{"version":3,"sources":["components/UserAddressesModal.js","components/Promos.js","assets/pizzapizza50trans.png","assets/pizzapizzalarge.jpg","pages/DashMui.js","components/ListItems.js","services/userService.js","reducers/activeUserReducer.js","components/PlaceNameAddress.js","components/PlaceReviews.js","components/Pizza.js","components/Beverage.js","components/PlaceMenu.js","components/TabPanel.js","components/PlaceInfoSkeleton.js","components/MainPlaceDetails.js","components/GeoDataList.js","components/MapMarker.js","components/HomeMarker.js","components/GeoDisplay.js","components/Favorites.js","components/RequestPartnerForm.js","components/MainDashboard.js","components/AccountInfo.js","components/EditAddressModal.js","components/AccountAddresses.js","components/AddPaymentModal.js","components/EditPaymentModal.js","components/AccountCards.js","components/MainAccount.js","components/PeekPromo.js","components/CartBilling.js","components/CartEmpty.js","components/CartRestaurant.js","components/MainCart.js","store.js","pages/LandingPage.js","pages/SignUp.js","App.js","index.js","reducers/placesReducer.js","components/MainOrderHistory.js","services/dataService.js","assets/pizzapizza100.png"],"names":["UserAddressesModal","user","titleMessage","openOnClick","setOpenOnClick","dispatch","useDispatch","useState","addresses","length","modalOpen","setModalOpen","useEffect","handleModalClose","open","onClose","aria-labelledby","id","initialValues","locationName","addressNumber","street","city","state","country","zip","specialInstructions","validate","values","errors","onSubmit","a","setSubmitting","resetForm","addAddress","_id","touched","handleChange","handleBlur","handleSubmit","isSubmitting","style","display","flexWrap","justifyContent","type","label","name","onChange","onBlur","value","error","helperText","margin","width","marginTop","onClick","color","variant","backgroundColor","Promos","promos","useSelector","placesReducer","isMountedRef","useRef","scrollRef","current","initPromos","scroll","scrollOffset","scrollLeft","className","height","fontSize","ref","map","p","key","in","undefined","elevation","description","paddingBottom","paddingTop","code","module","exports","useStyles","makeStyles","theme","root","fontWeight","toolbar","paddingRight","toolbarIcon","alignItems","padding","mixins","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","enteringScreen","menuButton","marginRight","menuButtonHidden","title","flexGrow","textAlign","drawerPaper","position","whiteSpace","drawerPaperClose","overflowX","spacing","breakpoints","up","appBarSpacer","content","overflowY","container","paddingLeft","paper","overflow","flexDirection","fixedHeight","Dashboard","classes","React","setOpen","activeUser","notify","handleDrawerOpen","handleDrawerClose","iOS","process","browser","test","navigator","userAgent","clsx","edge","aria-label","src","logo","alt","float","image","clearUser","onOpen","disableBackdropTransition","disableDiscovery","maxWidth","exact","path","component","MainDashboard","MainPlaceDetails","MainOrderHistory","MainCart","MainAccount","autoHideDuration","anchorOrigin","vertical","horizontal","closeNotify","severity","border","borderColor","message","MainListItems","button","Link","to","primary","baseUrl","authUrl","localSignIn","userObj","axios","post","withCredentials","headers","Accept","response","data","localRegister","newUserObj","getUser","get","getUserFromDash","logoutUser","addFavoriteRestaurant","place_id","user_id","put","removeFavoriteRestaurant","addPizzaToCart","item","addBeveragesToCart","removeItemFromCart","item_id","updateActiveCartBilling","totalPrice","newTotal","diff","promoApplied","console","log","clearCart","addNewOrder","cardTipAmount","paymentChoice","creditCardTip","cardId","addNewAddress","addressObject","editExistingAddress","indexToEdit","addNewPaymentInfo","infoObject","editExistingPayment","initialState","redirectTo","loading","setLoading","signIn","userService","res","status","register","isAuthenticated","addFavorite","removeFavorite","addCart","addBeverage","beveragesToAddObj","removeCart","setActiveCartBilling","resetCart","addOrder","editAddress","addPaymentInfo","editPaymentInfo","activeUserReducer","action","PlaceNameAddress","place","Typography","CardContent","minWidth","formatted_address","formatted_phone_number","Phone","opening_hours","open_now","Chip","size","icon","CheckCircleOutline","marginBottom","RemoveCircleOutline","listStyleType","weekday_text","d","PlaceReviews","reviews","r","Card","author_name","Avatar","profile_photo_url","relative_time_description","Rating","rating","readOnly","precision","text","useStylesProgress","animationDuration","circle","strokeLinecap","Pizza","pizza","setSize","setVariant","pizzaClickRef","regInitial","regular_toppings","x","regObj","Object","fromEntries","premInitial","premium_toppings","premObj","regularChecked","setRegularChecked","premiumChecked","setPremiumChecked","selectedRegularToppings","selectedPremiumToppings","regArr","entries","premArr","i","includes","push","handleRegularChecked","event","target","checked","handlePremiumChecked","handleAddPizza","itemId","restaurantName","restaurantId","setTimeout","itemToAdd","itemType","selectedVariant","selectedSize","sizePrice","variantPrice","regToppingsPrice","premToppingsPrice","pizza_base_prices","price","add_ons","multiplier","toFixed","calcPizzaPrice","Container","Grid","xs","sm","md","lg","FormControl","FormLabel","RadioGroup","e","FormControlLabel","control","Radio","variants","v","FormGroup","row","t","Checkbox","borderTopLeftRadius","borderTopRightRadius","toppingCount","selectedToppingsGrammar","CardActions","Button","disabled","CircularProgress","Beverage","beverages","sendToCart","bevClickRef","ChevronLeft","choices","Grow","beverage_base_prices","selectedBeverages","beverageToAdd","handleAddBeverage","ChevronRight","PlaceMenu","items","filter","history","useHistory","Fragment","TabPanel","props","children","index","other","role","hidden","Box","div","PlaceInfoSkeleton","Skeleton","menu","indicator","useParams","placeDetails","setValue","getPlaceDetails","initMenu","direction","justify","AppBar","Tabs","newValue","centered","Tab","textTransform","cart","flexBasis","calcDistance","lat1","lat2","lng1","lng2","pi","Math","PI","dlon","dlat","ans","pow","sin","cos","asin","sqrt","GeoDataList","geoData","nearbyPlaces","favoriteRestaurants","homeGPS","waiting","setWaiting","geolocation","lat","lon","getCurrentPosition","setHomeGPS","coords","latitude","longitude","getByCoordinates","setPlaces","results","loadData","CardHeader","titleTypographyProps","subheader","geometry","location","lng","IconButton","addToFavorites","price_level","fontFamily","repeat","fullWidth","MapMarker","handleClick","faPizzaSlice","HomeMarker","GeoDisplay","center","bootstrapURLKeys","defaultCenter","defaultZoom","Favorites","setLat","setLon","geoActive","removeFromFavorites","FavoriteRounded","lineHeight","Favorite","RequestPartnerForm","setName","sendRestContact","preventDefault","requestAddRestaurant","handleClose","Dialog","DialogTitle","DialogContent","TextField","DialogActions","background","mapGrid","showFormLink","setShowFormLink","window","alert","setInterval","AccountInfo","firstName","email","googleId","Date","createdAt","toString","slice","EditAddressesModal","editOnClick","setEditOnClick","addressToEdit","isOpen","AccountAddresses","Edit","AddBox","AddPaymentModal","openPaymentOnClick","setOpenPaymentOnClick","paymentModalOpen","setPaymentModalOpen","digCount","handlePaymentModalClose","formatNumber","number","newCount","creditCardNumber","creditCardExpire","creditCardType","creditCardNameOnCard","creditCardCVV","faCcVisa","faCcMastercard","faCcDiscover","faCcAmex","EditPaymentModal","editPaymentOnClick","setEditPaymentOnClick","paymentInfoToEdit","paymentInfoArray","AccountCards","backdrop","PeekPromo","anchorEl","setAnchorEl","backdropOpen","setBackdropOpen","Boolean","aria-describedby","currentTarget","Backdrop","Popover","transformOrigin","CssTextField","withStyles","borderBottomColor","CartBilling","bevs","setTotalPrice","activeCartBillingObject","codeEntered","setCodeEntered","notifyPromo","setNotifyPromo","successAppliedPromotion","setSuccessAppliedPromotions","updateActiveCartOnEnterPromoCode","openNotify","setOpenNotify","formatPrice","afterPromoPrice","Number","beforePromoPrice","priceDiff","borderRadius","promoToApply","filterFalsy","qualifyingPromo","pizzaArray","beverageArray","orders","checkQualify","discount","prevTotalPrice","credit","checkPromo","Snackbar","Alert","borderBottomRightRadius","borderBottomLeftRadius","quoteToShow","random","floor","quotes","getQuote","CartEmpty","quote","author","CartRestaurant","cardTip","setCardTip","modalOrderOpen","setModalOrderOpen","deliverTo","setDeliverTo","setPaymentChoice","handleModalOrderOpen","handleModalOrderClose","activeCartBilling","required","toUpperCase","textDecoration","InputProps","startAdornment","InputAdornment","cardStyle","cardHeader","maxHeight","minHeight","cardActions","priceText","fontStyle","getTotalPrice","itemArray1","itemArray2","reduce","b","c","removeFromCart","appReducer","combineReducers","persistConfig","storage","persistedReducer","persistReducer","store","createStore","compose","applyMiddleware","thunk","persistor","persistStore","backgroundImage","pizzaBackground","backgroundRepeat","palette","grey","backgroundSize","backgroundPosition","avatar","secondary","main","form","submit","LandingPage","CssBaseline","Paper","square","pizzapizza","noValidate","faGoogle","password","href","SignUp","lastName","App","DashMui","ReactDOM","render","document","getElementById","places","bool","postRequestAddRestaurant","getPlaceDetailsRequest","result","loadMenu","loadPromos","getProgress","date","endMilli","getTime","currentMilli","now","minutesElapsed","round","split","join","setProgress","timer","oldProgress","min","clearInterval","sort","o","prog","confirmation"],"mappings":"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","file":"static/js/main.b50228cd.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button, TextField } from '@material-ui/core'\nimport { Formik } from 'formik';\nimport { addAddress } from '../reducers/activeUserReducer'\n\nconst UserAddressesModal = ({ user, titleMessage, openOnClick, setOpenOnClick }) => {\n\n  const dispatch = useDispatch()\n\n  const [modalOpen, setModalOpen] = useState(user && user.addresses && user.addresses.length === 0);\n\n  useEffect(() => {\n    if (openOnClick) {\n      setModalOpen(true)\n    }\n  }, [setModalOpen, openOnClick])\n\n  const handleModalClose = () => {\n    setModalOpen(false)\n    setOpenOnClick(false)\n  };\n\n  return (\n    <div >\n      {modalOpen ?\n        <Dialog open={modalOpen} onClose={handleModalClose} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">{titleMessage}</DialogTitle>\n          <DialogContent>\n            <Formik\n              initialValues={{\n                locationName: '',\n                addressNumber: '',\n                street: '',\n                city: '',\n                state: '',\n                country: '',\n                zip: '',\n                specialInstructions: ''\n              }}\n              validate={values => {\n                const errors = {};\n                if (!values.locationName) {\n                  errors.locationName = 'Required'\n                }\n                if (!values.addressNumber) {\n                  errors.addressNumber = 'Required'\n                }\n                if (!values.street) {\n                  errors.street = 'Required'\n                }\n                if (!values.city) {\n                  errors.city = 'Required'\n                }\n                if (!values.state) {\n                  errors.state = 'Required'\n                }\n                if (!values.country) {\n                  errors.country = 'Required'\n                }\n                if (!values.zip) {\n                  errors.zip = 'Required'\n                }\n                return errors;\n              }}\n              onSubmit={async (values, { setSubmitting, resetForm }) => {\n                setSubmitting(true)\n                dispatch(addAddress(user._id, {\n                  locationName: values.locationName,\n                  addressNumber: values.addressNumber,\n                  street: values.street,\n                  city: values.city,\n                  state: values.state,\n                  country: values.country,\n                  zip: values.zip,\n                  specialInstructions: values.specialInstructions\n                }))\n                handleModalClose()\n              }}\n            >\n              {({\n                values,\n                errors,\n                touched,\n                handleChange,\n                handleBlur,\n                handleSubmit,\n                isSubmitting,\n                /* and other goodies */\n              }) => (\n                  <form style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-evenly' }} onSubmit={handleSubmit}>\n                    <TextField\n                      type=\"text\"\n                      label='Location Name'\n                      name=\"locationName\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.locationName}\n                      error={errors.locationName && touched.locationName ? true : false}\n                      helperText={errors.locationName && touched.locationName && errors.locationName}\n                      style={{ margin: 10 }}\n                    />\n                    {/* {errors.locationName && touched.locationName && errors.locationName} */}\n                    <TextField\n                      type=\"number\"\n                      label='Building Number'\n                      name=\"addressNumber\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.addressNumber}\n                      error={errors.addressNumber && touched.addressNumber ? true : false}\n                      helperText={errors.addressNumber && touched.addressNumber && errors.addressNumber}\n                      style={{ margin: 10 }}\n                    />\n\n                    <TextField\n                      type=\"text\"\n                      label='Street'\n                      name=\"street\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.street}\n                      error={errors.street && touched.street ? true : false}\n                      helperText={errors.street && touched.street && errors.street}\n                      style={{ margin: 10 }}\n                    />\n\n                    <TextField\n                      type=\"text\"\n                      label='City/Town'\n                      name=\"city\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.city}\n                      error={errors.city && touched.city ? true : false}\n                      helperText={errors.city && touched.city && errors.city}\n                      style={{ margin: 10 }}\n                    />\n                    <TextField\n                      type=\"text\"\n                      label='State/Province'\n                      name=\"state\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.state}\n                      error={errors.state && touched.state ? true : false}\n                      helperText={errors.state && touched.state && errors.state}\n                      style={{ margin: 10 }}\n                    />\n                    <TextField\n                      type=\"text\"\n                      label='Country'\n                      name=\"country\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.country}\n                      error={errors.country && touched.country ? true : false}\n                      helperText={errors.country && touched.country && errors.country}\n                      style={{ margin: 10 }}\n                    />\n                    <TextField\n                      type=\"text\"\n                      label='Zip Code'\n                      name=\"zip\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.zip}\n                      error={errors.zip && touched.zip ? true : false}\n                      helperText={errors.zip && touched.zip && errors.zip}\n                      style={{ margin: 10 }}\n                    />\n\n                    <TextField\n                      type=\"text\"\n                      label='Special instructions?'\n                      name=\"specialInstructions\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.specialInstructions}\n                      helperText={errors.specialInstructions && touched.specialInstructions && errors.specialInstructions}\n                      style={{ margin: 10 }}\n                    />\n                    <div style={{ display: 'block', width: '100%', marginTop: 20 }}>\n                      <DialogActions>\n                        <Button onClick={handleModalClose} color=\"default\">\n                          Cancel\n                    </Button>\n                        <Button type='submit' variant='contained' style={{ backgroundColor: '#ff2f0a', color: 'white' }}>\n                          Submit\n                    </Button>\n                      </DialogActions>\n                    </div>\n                  </form>\n                )}\n            </Formik>\n          </DialogContent>\n        </Dialog>\n        : null}\n    </div>\n  )\n}\nexport default UserAddressesModal","import React, { useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { initPromos } from '../reducers/placesReducer'\nimport { Card, Button, CardContent, CardActions, Typography } from '@material-ui/core';\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons';\nimport Grow from '@material-ui/core/Grow';\n\n\n\nconst Promos = () => {\n\n  const promos = useSelector(state => state.placesReducer.promos ? state.placesReducer.promos : null)\n\n  const dispatch = useDispatch()\n  const isMountedRef = useRef(null)\n  const scrollRef = useRef(null);\n\n  useEffect(() => {\n    isMountedRef.current = true\n    if (!promos) {\n      dispatch(initPromos())\n    }\n    return () => isMountedRef.current = false\n  }, [dispatch, promos])\n\n  const scroll = (scrollOffset) => {\n    scrollRef.current.scrollLeft += scrollOffset;\n  };\n\n  return (\n    <div className='sticky-head'>\n      <div style={{ width: \"100%\", height: 20 }}></div>\n      <div className='outerDashDiv' >\n        <Button className='btn' onClick={() => scroll(-400)}>\n          <ChevronLeft style={{ fontSize: 50 }} />\n        </Button>\n        <div className='dashDiv' ref={scrollRef} >\n          {promos ? promos.map(p =>\n            <Grow key={p._id} in={promos !== undefined}>\n              <Card elevation={7}>\n                <CardContent>\n                  <Typography variant='body2'>\n                    {p.description}\n                  </Typography>\n                  <br />\n                </CardContent>\n                <CardActions style={{ display: 'flex', justifyContent: 'center', backgroundColor: '#ff2f0a', color: 'white', marginTop: 'auto', paddingBottom: 20 }}>\n                  <Typography variant='body1' style={{ paddingTop: 20 }}>\n                    Code: <strong>{p.code}</strong>\n                  </Typography>\n                </CardActions>\n              </Card>\n            </Grow>\n          )\n            :\n            null\n          }\n        </div>\n        <Button className='btn' onClick={() => scroll(400)}>\n          <ChevronRight style={{ fontSize: 50 }} />\n        </Button>\n      </div>\n    </div>\n  )\n}\nexport default Promos","module.exports = __webpack_public_path__ + \"static/media/pizzapizza50trans.56fbddd8.png\";","module.exports = __webpack_public_path__ + \"static/media/pizzapizzalarge.f5dbe4dc.jpg\";","import React from 'react';\nimport { Switch, Route } from 'react-router-dom'\nimport clsx from 'clsx';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Avatar from '@material-ui/core/Avatar'\nimport List from '@material-ui/core/List';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport Container from '@material-ui/core/Container';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport MainListItems from '../components/ListItems';\nimport { useSelector, useDispatch } from 'react-redux'\nimport logo from '../assets/pizzapizza50trans.png'\nimport { clearUser } from '../reducers/activeUserReducer'\nimport MainDashboard from '../components/MainDashboard';\nimport MainPlaceDetails from '../components/MainPlaceDetails';\nimport MainCart from '../components/MainCart';\nimport MainOrderHistory from '../components/MainOrderHistory';\nimport MainAccount from '../components/MainAccount';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { Alert } from '@material-ui/lab'\nimport { closeNotify } from '../reducers/activeUserReducer'\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n\n  root: {\n    display: 'flex',\n    backgroundColor: 'black',\n    fontWeight: 500\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    backgroundColor: 'white',\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    backgroundColor: 'white',\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create(['width', 'margin'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n    textAlign: 'center'\n  },\n  drawerPaper: {\n    position: 'relative',\n    whiteSpace: 'nowrap',\n    width: drawerWidth,\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: 'hidden',\n    transition: theme.transitions.create('width', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(6),\n    [theme.breakpoints.up('sm')]: {\n      width: theme.spacing(7),\n    },\n  },\n  appBarSpacer: theme.mixins.toolbar,\n  content: {\n    flexGrow: 1,\n    height: '100vh',\n    overflowY: 'auto',\n    overflowX: 'hidden'\n  },\n  container: {\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(2),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2)\n  },\n  paper: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  fixedHeight: {\n    height: 240,\n  }\n}));\n\nexport default function Dashboard() {\n  const classes = useStyles();\n  const dispatch = useDispatch()\n  const [open, setOpen] = React.useState(false);\n  const user = useSelector(state => state.activeUser.user)\n  const notify = useSelector(state => state.activeUser.notify)\n\n  const handleDrawerOpen = () => {\n    setOpen(true);\n  };\n  const handleDrawerClose = () => {\n    setOpen(false);\n  };\n\n  const logout = () => {\n    dispatch(clearUser())\n  }\n  const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"default\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\n          >\n            <MenuIcon />\n          </IconButton>\n          <div className={classes.title}>\n            <img src={logo} alt='logo'></img>\n          </div>\n          <IconButton color=\"inherit\" edge='end' style={{ width: 150 }}>\n            {user ?\n              <div>\n                <span>\n                  <Avatar style={{ float: 'left' }} src={user.image} alt='user'></Avatar>\n                  <MenuItem style={{ color: 'black', float: 'right' }} onClick={logout}>Logout</MenuItem>\n                </span>\n              </div>\n              :\n              null}\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n      <SwipeableDrawer\n        variant='temporary'\n        classes={{\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\n        }}\n        open={open}\n        onClose={handleDrawerClose}\n        onOpen={handleDrawerOpen}\n        disableBackdropTransition={!iOS}\n        disableDiscovery={iOS}\n      >\n        <div className={classes.toolbarIcon}>\n          <img alt='logo' src={logo} style={{ marginRight: 50 }}></img>\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <MainListItems handleDrawerClose={handleDrawerClose} />\n        </List>\n      </SwipeableDrawer>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n        <Container maxWidth=\"lg\" className={classes.container}>\n          <Switch>\n            <Route exact path='/dashboard' component={MainDashboard} />\n            <Route path='/dashboard/restaurant/:id' component={MainPlaceDetails} />\n            <Route path='/dashboard/orders' component={MainOrderHistory} />\n            <Route path='/dashboard/cart' component={MainCart} />\n            <Route path='/dashboard/account' component={MainAccount} />\n          </Switch>\n        </Container>\n      </main>\n      <Snackbar\n        open={notify && notify.open}\n        autoHideDuration={2000}\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        onClose={() => dispatch(closeNotify())}>\n        {notify && notify.open ?\n          <Alert severity={notify.severity} style={notify.severity === 'success' ? { backgroundColor: '#b7e89e', border: 'solid', borderColor: 'green', width: 260 } : { backgroundColor: 'lightgrey', border: 'solid', borderColor: 'red', width: 260 }} >\n            {notify.message}\n          </Alert>\n          : null}\n      </Snackbar>\n    </div>\n  );\n}","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport AccountBoxIcon from '@material-ui/icons/AccountBox';\nimport { Place, Receipt } from '@material-ui/icons';\n\nconst MainListItems = ({ handleDrawerClose }) => {\n\n  return (\n    <div>\n      <ListItem button component={Link} to=\"/dashboard\" onClick={() => handleDrawerClose()}>\n        <ListItemIcon>\n          <Place />\n        </ListItemIcon>\n        <ListItemText primary=\"Places\" />\n      </ListItem>\n      <ListItem button component={Link} to=\"/dashboard/cart\" onClick={() => handleDrawerClose()}>\n        <ListItemIcon>\n          <ShoppingCartIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Cart\" />\n      </ListItem>\n      <ListItem button component={Link} to=\"/dashboard/orders\" onClick={() => handleDrawerClose()}>\n        <ListItemIcon>\n          <Receipt />\n        </ListItemIcon>\n        <ListItemText primary=\"Orders\" />\n      </ListItem>\n      <ListItem button component={Link} to=\"/dashboard/account\" onClick={() => handleDrawerClose()}>\n        <ListItemIcon>\n          <AccountBoxIcon />\n        </ListItemIcon>\n        <ListItemText primary=\"Account\" />\n      </ListItem>\n      {/* <ListItem button>\n      <ListItemIcon>\n        <LayersIcon />\n      </ListItemIcon>\n      <ListItemText primary=\"Integrations\" />\n    </ListItem> */}\n    </div>\n  )\n}\nexport default MainListItems","import axios from 'axios'\n\n//development\n// const baseUrl = 'http://localhost:3001/api'\n// const authUrl = 'http://localhost:3001'\n\n//production\nconst baseUrl = 'https://pizzapizzadelivery.herokuapp.com/api'\nconst authUrl = 'https://pizzapizzadelivery.herokuapp.com'\n\nconst localSignIn = async (userObj) => {\n  const response = await axios.post(`${authUrl}/auth/local/signin`, userObj, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true,\n\n    },\n  })\n  return response.data\n}\n\nconst localRegister = async (newUserObj) => {\n  const response = await axios.post(`${authUrl}/auth/local/register`, newUserObj, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true,\n\n    },\n  })\n  return response.data\n}\n\nconst getUser = async () => {\n  const response = await axios.get(`${baseUrl}`, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true,\n\n    },\n\n  })\n  return response.data\n}\n\nconst getUserFromDash = async () => {\n  const response = await axios.get(`${baseUrl}/authhelpers/login/success`, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n\n  })\n  return response.data\n}\nconst logoutUser = async () => {\n  const response = await axios.get(`${baseUrl}/authhelpers/logout`, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst addFavoriteRestaurant = async (place_id, user_id) => {\n  const response = await axios.put(`${baseUrl}/account/favorite`, {\n    user_id: user_id,\n    place_id: place_id\n  }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst removeFavoriteRestaurant = async (place_id, user_id) => {\n  const response = await axios.put(`${baseUrl}/account/removefavorite`, {\n    user_id: user_id,\n    place_id: place_id\n  }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst addPizzaToCart = async (user_id, item) => {\n  const response = await axios.put(`${baseUrl}/account/addPizza`, { user_id: user_id, item: item }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst addBeveragesToCart = async (user_id, item) => {\n  const response = await axios.put(`${baseUrl}/account/addBeverages`, { user_id: user_id, item: item }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst removeItemFromCart = async (user_id, item_id) => {\n  const response = await axios.put(`${baseUrl}/account/removeCart`, { user_id: user_id, item_id: item_id }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst updateActiveCartBilling = async (user_id, totalPrice, newTotal, diff, promoApplied) => {\n  const response = await axios.put(`${baseUrl}/account/updateActiveCartBilling`, { user_id: user_id, totalPrice: totalPrice, newTotal: newTotal, diff: diff, promoApplied: promoApplied }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  console.log(response.data)\n  return response.data\n}\nconst clearCart = async (user_id) => {\n  const response = await axios.put(`${baseUrl}/account/clearCart`, { user_id: user_id }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst addNewOrder = async (user_id, cardTipAmount, paymentChoice) => {\n  const response = await axios.put(`${baseUrl}/account/addNewOrder`, { user_id: user_id, creditCardTip: cardTipAmount, cardId: paymentChoice }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst addNewAddress = async (user_id, addressObject) => {\n  const response = await axios.put(`${baseUrl}/account/addNewAddress`, { user_id: user_id, addressObject: addressObject }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst editExistingAddress = async (user_id, indexToEdit, addressObject) => {\n  const response = await axios.put(`${baseUrl}/account/editAddress`, { user_id: user_id, indexToEdit: indexToEdit, addressObject: addressObject }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst addNewPaymentInfo = async (user_id, infoObject) => {\n  const response = await axios.put(`${baseUrl}/account/addNewPaymentInfo`, { user_id: user_id, infoObject: infoObject }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\nconst editExistingPayment = async (user_id, indexToEdit, infoObject) => {\n  const response = await axios.put(`${baseUrl}/account/editPayment`, { user_id: user_id, indexToEdit: indexToEdit, infoObject: infoObject }, {\n    withCredentials: true,\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Credentials\": true\n    },\n  })\n  return response.data\n}\n\nexport default {\n  localSignIn,\n  localRegister,\n  getUser,\n  getUserFromDash,\n  logoutUser,\n  addFavoriteRestaurant,\n  removeFavoriteRestaurant,\n  addPizzaToCart,\n  addBeveragesToCart,\n  removeItemFromCart,\n  updateActiveCartBilling,\n  clearCart,\n  addNewOrder,\n  addNewAddress,\n  editExistingAddress,\n  addNewPaymentInfo,\n  editExistingPayment\n}","import userService from \"../services/userService\"\n\nconst initialState = {\n  user: undefined,\n  notify: { open: false, severity: '', message: '' },\n  redirectTo: undefined,\n  loading: false\n}\n\nconst activeUserReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'USER_LOGOUT':\n      return initialState\n    case 'SET_LOADING':\n      return { ...state, loading: action.data }\n    case 'CLEAR_LOADING':\n      return { ...state, loading: action.data }\n    case 'LOCAL_SIGN_IN':\n      return { ...state, user: action.data }\n    case 'REDIRECT':\n      return { ...state, redirectTo: action.data }\n    case 'CLEAR_REDIRECT':\n      return { ...state, redirectTo: action.data }\n    case 'REGISTER':\n      return { ...state, user: action.data }\n    case 'GET_USER':\n      return { ...state, user: action.data }\n    case 'ADD_FAVORITE':\n      return { ...state, user: action.data }\n    case 'REMOVE_FAVORITE':\n      return { ...state, user: action.data }\n    case 'ADD_PIZZA_TO_CART':\n      return { ...state, user: action.data }\n    case 'ADD_BEVERAGES_TO_CART':\n      return { ...state, user: action.data }\n    case 'REMOVE_CART':\n      return { ...state, user: action.data }\n    case 'SET_ACTIVE_CART_BILLING':\n      return { ...state, user: action.data }\n    case 'RESET_CART':\n      return { ...state, user: action.data }\n    case 'ADD_ORDER':\n      return { ...state, user: action.data }\n    case 'ADD_ADDRESS':\n      return { ...state, user: action.data }\n    case 'EDIT_ADDRESS':\n      return { ...state, user: action.data }\n    case 'ADD_PAYMENT_INFO':\n      return { ...state, user: action.data }\n    case 'EDIT_PAYMENT_INFO':\n      return { ...state, user: action.data }\n    case 'NOTIFY':\n      return { ...state, notify: action.data }\n    default:\n      return state\n  }\n}\n\nexport const closeNotify = () => {\n  const clear = { open: false, severity: '', message: '' }\n  return {\n    type: 'NOTIFY',\n    data: clear\n  }\n}\nexport const redirect = link => {\n  return {\n    type: 'REDIRECT',\n    data: link\n  }\n}\nexport const clearRedirect = () => {\n  return {\n    type: 'CLEAR_REDIRECT',\n    data: undefined\n  }\n}\nexport const setLoading = () => {\n  return {\n    type: 'SET_LOADING',\n    data: true\n  }\n}\nexport const clearLoading = () => {\n  return {\n    type: 'CLEAR_LOADING',\n    data: false\n  }\n}\nexport const signIn = (userObj) => {\n  return async dispatch => {\n    try {\n      let res = await userService.localSignIn(userObj)\n      dispatch({\n        type: 'LOCAL_SIGN_IN',\n        data: res\n      })\n    } catch (error) {\n      if (error.response.status === 401) {\n        dispatch({\n          type: 'NOTIFY',\n          data: { open: true, severity: 'error', message: 'Incorrect email or password' }\n        })\n      }\n      console.log(error)\n    }\n  }\n}\nexport const register = (newUserObj) => {\n  return async dispatch => {\n    try {\n      let res = await userService.localRegister(newUserObj)\n      dispatch({\n        type: 'LOCAL_REGISTER',\n        data: res\n      })\n      dispatch({\n        type: 'REDIRECT',\n        data: '/'\n      })\n      dispatch({\n        type: 'CLEAR_REDIRECT',\n        data: undefined\n      })\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'success', message: 'Account created. You can sign in now.' }\n      })\n    } catch (error) {\n      if (error.response.status === 400) {\n        dispatch({\n          type: 'NOTIFY',\n          data: { open: true, severity: 'error', message: error.response.data.error }\n        })\n      }\n      console.log(error)\n    }\n  }\n}\nexport const isAuthenticated = () => {\n  return async dispatch => {\n    try {\n      let res = await userService.getUser()\n      dispatch({\n        type: 'GET_USER',\n        data: res.user\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\nexport const getAtDashboard = () => {\n  return async dispatch => {\n    try {\n      let res = await userService.getUserFromDash()\n      dispatch({\n        type: 'GET_USER',\n        data: res.user\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\nexport const clearUser = () => {\n  return async dispatch => {\n    try {\n      await userService.logoutUser()\n      dispatch({\n        type: 'USER_LOGOUT',\n        data: null\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\nexport const addFavorite = (place_id, user_id) => {\n  return async dispatch => {\n    dispatch(setLoading())\n    try {\n      let res = await userService.addFavoriteRestaurant(place_id, user_id)\n      dispatch({\n        type: 'ADD_FAVORITE',\n        data: res\n      })\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'success', message: 'Added' }\n      })\n      dispatch(clearLoading())\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n      dispatch(clearLoading())\n    }\n  }\n}\nexport const removeFavorite = (place_id, user_id) => {\n  return async dispatch => {\n    dispatch(setLoading())\n    try {\n      let res = await userService.removeFavoriteRestaurant(place_id, user_id)\n      dispatch({\n        type: 'REMOVE_FAVORITE',\n        data: res\n      })\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'success', message: 'Removed' }\n      })\n      dispatch(clearLoading())\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n      dispatch(clearLoading())\n    }\n  }\n}\nexport const addCart = (user_id, item) => {\n  return async dispatch => {\n    dispatch(setLoading())\n    try {\n      let res = await userService.addPizzaToCart(user_id, item)\n      dispatch({\n        type: 'ADD_PIZZA_TO_CART',\n        data: res\n      })\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'success', message: 'Added' }\n      })\n      dispatch(clearLoading())\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n      dispatch(clearLoading())\n    }\n  }\n}\n\nexport const addBeverage = (user_id, beveragesToAddObj) => {\n  return async dispatch => {\n    try {\n      dispatch(setLoading())\n      let res = await userService.addBeveragesToCart(user_id, beveragesToAddObj)\n      dispatch({\n        type: 'ADD_BEVERAGES_TO_CART',\n        data: res\n      })\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'success', message: 'Added' }\n      })\n      dispatch(clearLoading())\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n      dispatch(clearLoading())\n    }\n  }\n}\nexport const removeCart = (user_id, item_id) => {\n  return async dispatch => {\n    dispatch(setLoading())\n    try {\n      let res = await userService.removeItemFromCart(user_id, item_id)\n      dispatch({\n        type: 'REMOVE_CART',\n        data: res\n      })\n      dispatch(clearLoading())\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n      dispatch(clearLoading())\n    }\n  }\n}\nexport const setActiveCartBilling = (user_id, totalPrice, newTotal, diff, promoApplied) => {\n  return async dispatch => {\n    try {\n      dispatch(setLoading())\n      let res = await userService.updateActiveCartBilling(user_id, totalPrice, newTotal, diff, promoApplied)\n      dispatch({\n        type: 'SET_ACTIVE_CART_BILLING',\n        data: res\n      })\n      dispatch(clearLoading())\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n      dispatch(clearLoading())\n    }\n  }\n}\nexport const resetCart = (user_id) => {\n  return async dispatch => {\n    try {\n      let res = await userService.clearCart(user_id)\n      dispatch({\n        type: 'RESET_CART',\n        data: res\n      })\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n    }\n  }\n}\nexport const addOrder = (user_id, cardTipAmount, paymentChoice) => {\n  return async dispatch => {\n    dispatch(setLoading())\n    try {\n      let res = await userService.addNewOrder(user_id, cardTipAmount, paymentChoice)\n      dispatch({\n        type: 'ADD_ORDER',\n        data: res\n      })\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'success', message: 'Success' }\n      })\n      dispatch(clearLoading())\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n      dispatch(clearLoading())\n    }\n  }\n}\nexport const addAddress = (user_id, addressObject) => {\n  return async dispatch => {\n    dispatch(setLoading())\n    try {\n      let res = await userService.addNewAddress(user_id, addressObject)\n      dispatch({\n        type: 'ADD_ADDRESS',\n        data: res\n      })\n      dispatch(clearLoading())\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n      dispatch(clearLoading())\n    }\n  }\n}\nexport const editAddress = (user_id, indexToEdit, addressObject) => {\n  return async dispatch => {\n    try {\n      let res = await userService.editExistingAddress(user_id, indexToEdit, addressObject)\n      dispatch({\n        type: 'EDIT_ADDRESS',\n        data: res\n      })\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'success', message: 'Updated' }\n      })\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n    }\n  }\n}\n\nexport const addPaymentInfo = (user_id, infoObject) => {\n  return async dispatch => {\n    dispatch(setLoading())\n    try {\n      let res = await userService.addNewPaymentInfo(user_id, infoObject)\n      dispatch({\n        type: 'ADD_PAYMENT_INFO',\n        data: res\n      })\n      dispatch(clearLoading())\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n      dispatch(clearLoading())\n    }\n  }\n}\n\nexport const editPaymentInfo = (user_id, indexToEdit, infoObject) => {\n  return async dispatch => {\n    try {\n      let res = await userService.editExistingPayment(user_id, indexToEdit, infoObject)\n      dispatch({\n        type: 'EDIT_PAYMENT_INFO',\n        data: res\n      })\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'success', message: 'Updated' }\n      })\n    } catch (error) {\n      console.log(error)\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong' }\n      })\n    }\n  }\n}\nexport default activeUserReducer","\nimport React from 'react'\nimport Chip from '@material-ui/core/Chip';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { CheckCircleOutline, Phone, RemoveCircleOutline } from '@material-ui/icons';\n\nconst PlaceNameAddress = ({ place }) => {\n\n  return (\n    <div className='sticky-head-places'>\n      <Typography variant='body1' style={{ textAlign: 'center', fontSize: 16, marginTop: 25 }}></Typography>\n      <br />\n      <div className='placeDetailsDiv'>\n        <div className='placeDetailsCard'>\n          <CardContent style={{ minWidth: 240, maxWidth: 400 }}>\n            <br />\n            <Typography variant='body1' ><strong>{place.name}</strong></Typography>\n            <Typography variant='body2' style={{ color: 'gray' }}>{place.formatted_address}</Typography>\n            <br />\n            {place.formatted_phone_number &&\n              <Typography variant='body1' style={{ color: 'gray' }}>\n                <Phone style={{ color: '#ff2f0a' }} />\n                <br />\n                {place.formatted_phone_number}\n              </Typography>\n            }\n          </CardContent>\n        </div>\n        <div className='placeDetailsCard'>\n          <CardContent style={{ minWidth: 240, maxWidth: 400, marginTop: 20 }}>\n            {place.opening_hours.open_now\n              ?\n              <Chip label=\"Open Now\" size='small' icon={<CheckCircleOutline style={{ color: 'green' }} />} style={{ marginBottom: 10 }} />\n              :\n              <Chip label=\"Closed Now\" size='small' icon={<RemoveCircleOutline style={{ color: 'red' }} />} style={{ marginBottom: 10 }} />}\n            <Typography variant=\"caption\" component=\"ul\" style={{ listStyleType: 'none', padding: 0, color: 'gray' }}>\n              {place.opening_hours.weekday_text.map(d => <li key={d}>{d}</li>)}\n            </Typography>\n          </CardContent>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default PlaceNameAddress","import React from 'react'\nimport Rating from '@material-ui/lab/Rating';\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport { Avatar } from '@material-ui/core';\n\n\nconst PlaceReviews = ({ place }) => {\n\n  return (\n    <div className='sticky-head'>\n      <div style={{ width: \"100%\", height: 20 }}></div>\n      <div className='placeReviewsInnerDiv' >\n        {place.reviews !== undefined ?\n          place.reviews.map(r =>\n            < Card key={r.author_name} className='placeReviewsCard'>\n              <CardContent >\n                <Avatar src={r.profile_photo_url} />\n                <Typography variant=\"body1\" component=\"p\">\n                  {r.author_name}\n                </Typography>\n                <Typography style={{ fontSize: 10 }}>{r.relative_time_description}</Typography>\n                <Rating name=\"read-only\" value={r.rating} readOnly precision={0.5} />\n                <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                  {r.text}\n                </Typography>\n              </CardContent>\n            </Card >\n          )\n          : <h3>No reviews</h3>}\n      </div>\n    </div>\n  )\n}\nexport default PlaceReviews","import React, { useState, useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Container, Button, CardActions } from '@material-ui/core'\nimport { FormControl, FormGroup, FormControlLabel, FormLabel, Radio, RadioGroup, Checkbox, Grid, Card, CardContent, Typography } from '@material-ui/core'\nimport { addCart } from '../reducers/activeUserReducer'\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStylesProgress = makeStyles(() => ({\n  root: {\n    position: 'relative',\n    height: 25,\n    width: 25,\n    animationDuration: '350ms',\n  },\n  circle: {\n    strokeLinecap: 'round',\n    color: 'black',\n  }\n}));\n\nconst calcPizzaPrice = (pizza, size, variant, selectedRegularToppings, selectedPremiumToppings) => {\n  let sizePrice = 0\n  let variantPrice = 0\n  let regToppingsPrice = 0\n  let premToppingsPrice = 0\n\n  for (let i = 0; i < pizza[0].pizza_base_prices.length; i++) {\n    if (size === pizza[0].pizza_base_prices[i].size) {\n      sizePrice = pizza[0].pizza_base_prices[i].price\n    }\n  }\n  for (let i = 0; i < pizza[0].add_ons.length; i++) {\n    if (variant === pizza[0].add_ons[i].variant) {\n      variantPrice = pizza[0].add_ons[i].multiplier * sizePrice\n    }\n  }\n  if (selectedRegularToppings) {\n    regToppingsPrice = selectedRegularToppings.length * 2\n  }\n  if (selectedPremiumToppings) {\n    premToppingsPrice = selectedPremiumToppings.length * 4\n  }\n\n  let totalPrice = ((variantPrice + regToppingsPrice + premToppingsPrice) * 1.07).toFixed(2)\n  return totalPrice\n}\n\n\nconst Pizza = ({ pizza, place, user }) => {\n\n  const classes = useStylesProgress()\n  const dispatch = useDispatch()\n  const [size, setSize] = useState('large')\n  const [variant, setVariant] = useState('regular')\n  const pizzaClickRef = useRef(null)\n  const loading = useSelector(state => state.activeUser.loading)\n\n  //dynamically intialize an object from the array of topping choices to use for the checkbox with key/value pairs set initially to false. When checked, corresponding key item's value will change to true\n  const regInitial = [pizza.map(p => p.regular_toppings.map(x => [x, false]))]\n  const regObj = Object.fromEntries(regInitial[0][0])\n\n  const premInitial = [pizza.map(p => p.premium_toppings.map(x => [x, false]))]\n  const premObj = Object.fromEntries(premInitial[0][0])\n\n  //initialize local state with key/value pairs for both regular and premium toppings corresponding to checkbox checked-state. Initially false.\n  const [regularChecked, setRegularChecked] = useState(regObj)\n  const [premiumChecked, setPremiumChecked] = useState(premObj)\n\n  //initialize empty arrays to store final topping choices before pushing to cart. Keep separate for billing purposes\n  const selectedRegularToppings = []\n  const selectedPremiumToppings = []\n\n  //make iterable arrays from objects\n  let regArr = Object.entries(regularChecked)\n  let premArr = Object.entries(premiumChecked)\n\n  //iterate each nested array to determine true(checked) or false(unchecked). If checked, push to selectedToppings array.  Do the same for both regular and premium toppings.\n  for (let i = 0; i < regArr.length; i++) {\n    if (regArr[i].includes(true)) {\n      selectedRegularToppings.push(regArr[i][0])\n    }\n  }\n  for (let i = 0; i < premArr.length; i++) {\n    if (premArr[i].includes(true)) {\n      selectedPremiumToppings.push(premArr[i][0])\n    }\n  }\n  const handleVariantChange = (e) => {\n    setVariant(e.target.value)\n  }\n  const handleSizeChange = (e) => {\n    setSize(e.target.value)\n  }\n  const handleRegularChecked = (event) => {\n    setRegularChecked({ ...regularChecked, [event.target.name]: event.target.checked });\n  }\n  const handlePremiumChecked = (event) => {\n    setPremiumChecked({ ...premiumChecked, [event.target.name]: event.target.checked });\n  }\n\n  const clearSelection = () => {\n    setRegularChecked(regObj)\n    setPremiumChecked(premObj)\n    setSize('large')\n    setVariant('regular')\n  }\n\n  const handleAddPizza = (itemId, type, size, variant, restaurantName, restaurantId, selectedRegularToppings, selectedPremiumToppings) => {\n    pizzaClickRef.current = 'Updating'\n    setTimeout(() => {\n      pizzaClickRef.current = null\n    }, 2000);\n    const totalPrice = calcPizzaPrice(pizza, size, variant, selectedRegularToppings, selectedPremiumToppings)\n\n    const itemToAdd = {\n      itemId: itemId,\n      itemType: type,\n      selectedVariant: variant,\n      selectedSize: size,\n      selectedRegularToppings: selectedRegularToppings,\n      selectedPremiumToppings: selectedPremiumToppings,\n      restaurantName: restaurantName,\n      restaurantId: restaurantId,\n      totalPrice: totalPrice\n    }\n    try {\n      dispatch(addCart(user._id, itemToAdd))\n      clearSelection()\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  const selectedToppingsGrammar = () => {\n    let toppingCount = selectedRegularToppings.length + selectedPremiumToppings.length\n    switch (toppingCount) {\n      case 0:\n        return `no toppings`\n      case 1:\n        return `1 topping`\n      default:\n        return `${toppingCount} toppings`\n    }\n  }\n\n  return (\n    <Container className='pizzaMenuContainer'>\n      <br />\n      <Typography variant='h5'><strong>Pizza</strong></Typography>\n      <br />\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={6} md={6} lg={6}>\n          <FormControl component='fieldset'>\n            <FormLabel component='legend'>Choose a size:</FormLabel>\n            <RadioGroup aria-label=\"style\" name=\"Style\" value={size} onChange={handleSizeChange}>\n              {pizza.map(p => p.pizza_base_prices.map(x =>\n                <FormControlLabel key={x.size} value={x.size} control={<Radio style={{ color: 'black' }} />} label={`${x.size}: $${x.price}`} />\n              ))}\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={6} md={6} lg={6}>\n          <FormControl component=\"fieldset\">\n            <FormLabel component=\"legend\">Choose a style:</FormLabel>\n            <RadioGroup aria-label=\"style\" name=\"Style\" value={variant} onChange={handleVariantChange}>\n              {pizza.map(p => p.variants.map(v =>\n                <FormControlLabel key={v} value={v} control={<Radio style={{ color: 'black' }} />} label={v !== 'regular' ? `${v} (add 20%)` : v} />\n              ))\n              }\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} sm={12} md={6} lg={6}>\n          <FormLabel component='legend'>Choose some toppings:</FormLabel><br />\n          <FormLabel component='legend'>Regular ($2 each)</FormLabel>\n          <FormGroup row>\n            {pizza.map(p => p.regular_toppings.map(t =>\n              <FormControlLabel key={t} control={<Checkbox style={{ color: 'black' }} checked={regularChecked[t]} name={t} onChange={handleRegularChecked} />} label={t} />\n            ))}\n          </FormGroup>\n          <br />\n          <FormLabel component='legend'>Premium ($4 each)</FormLabel>\n          <FormGroup row>\n            {pizza.map(p => p.premium_toppings.map(t =>\n              <FormControlLabel key={t} control={<Checkbox style={{ color: 'black' }} checked={premiumChecked[t]} name={t} onChange={handlePremiumChecked} />} label={t} />\n            ))}\n          </FormGroup>\n          <br />\n        </Grid>\n        <Grid item xs={12} sm={12} md={6} lg={6}>\n          <Container style={{ paddingTop: 30, paddingBottom: 30, textAlign: 'center' }}>\n            <Typography variant='body1' style={{ backgroundColor: '#ff2f0a', color: 'white', paddingTop: 5, borderTopLeftRadius: 3, borderTopRightRadius: 3, fontWeight: 'bold' }}>Confirm your selection</Typography>\n            <Card style={{ color: 'black', border: 'solid', borderColor: '#ff2f0a', borderTopLeftRadius: 0, borderTopRightRadius: 0 }}>\n              <CardContent>\n                {loading && pizzaClickRef.current === 'Updating' ?\n                  <Typography variant='body1' color='textSecondary'> Updating... </Typography>\n                  :\n                  <Typography variant='body1' style={{ fontWeight: 'bold' }}>\n                    {`Add a ${size} ${variant} pizza with ${selectedToppingsGrammar()} to your cart?`}\n                  </Typography>\n                }\n              </CardContent>\n              <div style={{ display: 'flex', justifyContent: 'center' }}>\n                <CardActions style={{ textAlign: 'center' }}>\n                  <Button ref={pizzaClickRef} onClick={() => handleAddPizza(pizza.id, pizza[0].type, size, variant, place.name, place.place_id, selectedRegularToppings, selectedPremiumToppings)} variant='contained' style={{ backgroundColor: '#ff2f0a', color: 'white' }} disabled={loading}>\n                    {loading && pizzaClickRef.current === 'Updating' ?\n                      <CircularProgress size='small' classes={{\n                        root: classes.root, circle: classes.circle\n                      }} /> :\n                      <strong>Add</strong>}</Button>\n                </CardActions>\n              </div>\n            </Card>\n          </Container>\n        </Grid>\n      </Grid>\n    </Container>\n  )\n}\nexport default Pizza","import React, { useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Grow, Container } from '@material-ui/core'\nimport { CardActions, Typography, CardContent, Card, Button } from '@material-ui/core'\nimport { addBeverage, setLoading } from '../reducers/activeUserReducer'\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons'\nimport { CircularProgress } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStylesProgress = makeStyles(() => ({\n  root: {\n    position: 'relative',\n    height: 25,\n    width: 25,\n    animationDuration: '350ms'\n  },\n\n  circle: {\n    strokeLinecap: 'round',\n    color: 'black',\n  },\n}));\n\n\nconst Beverage = ({ beverages, user, place, sendToCart }) => {\n  const classes = useStylesProgress()\n  const dispatch = useDispatch()\n  const loading = useSelector(state => state.activeUser.loading)\n  const scrollRef = useRef(null);\n  const bevClickRef = useRef(null);\n\n  const handleAddBeverage = (item_id, type, selectedBeverages, restaurantName, restaurantId) => {\n    bevClickRef.current = selectedBeverages\n    setTimeout(() => {\n      bevClickRef.current = null\n    }, 2000);\n\n    dispatch(setLoading())\n    const totalPrice = ((1.75) * (1.07)).toFixed(2)\n    const beverageToAdd = {\n      selectedBeverages: selectedBeverages,\n      totalPrice: totalPrice,\n      item_id: item_id,\n      itemType: type,\n      restaurantName: restaurantName,\n      restaurantId: restaurantId\n    }\n    try {\n      dispatch(addBeverage(user._id, beverageToAdd))\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  const scroll = (scrollOffset) => {\n    scrollRef.current.scrollLeft += scrollOffset;\n  };\n\n  return (\n    <div className='sticky-head'>\n      <Container className='bevMenuContainer'>\n        <br />\n        <div style={{ marginBottom: 10 }}>\n          <Typography variant='h5' style={{ color: 'black' }}><strong>{`Beverages`}</strong></Typography>\n        </div>\n        <div className='outerDashDiv'>\n          <Button className='btn' onClick={() => scroll(-400)}>\n            <ChevronLeft style={{ fontSize: 50 }} />\n          </Button>\n          <div className='dashDiv' ref={scrollRef} >\n            {beverages ? beverages[0].choices.map(p =>\n              <Grow key={p} in={beverages !== undefined}>\n                <Card style={{ height: 130 }} elevation={3}>\n                  <CardContent>\n                    <Typography variant='h6' style={{ fontSize: 16 }}>\n                      <strong>{p}</strong>\n                    </Typography>\n                    <Typography variant='caption' style={{ color: 'black' }}>{`$${beverages[0].beverage_base_prices}`}</Typography>\n                    <br />\n                  </CardContent>\n                  <CardActions style={{ display: 'flex', justifyContent: 'center', marginTop: 'auto', paddingBottom: 10 }}>\n                    <Button ref={bevClickRef} style={{ paddingTop: 6, color: 'white', backgroundColor: '#ff2f0a' }} onClick={() => handleAddBeverage(beverages[0]._id, beverages[0].type, p, place.name, place.place_id)} disabled={loading}>\n                      {loading && bevClickRef.current === p ?\n                        <CircularProgress size='small' classes={{\n                          circle: classes.circle, root: classes.root\n                        }} /> :\n                        <strong>Add</strong>}\n                    </Button>\n                  </CardActions>\n                </Card>\n              </Grow>\n            )\n              :\n              null\n            }\n          </div>\n          <Button className='btn' onClick={() => scroll(400)}>\n            <ChevronRight style={{ fontSize: 50 }} />\n          </Button>\n        </div>\n      </Container>\n      <div style={{ backgroundColor: 'black', display: 'flex', flexDirection: 'row', justifyContent: 'center' }}>\n        <Button style={{ width: 290, margin: 20, color: 'white', backgroundColor: '#ff2f0a', fontWeight: 'bold' }} onClick={() => sendToCart()} disabled={loading}>Checkout</Button>\n      </div>\n    </div>\n  )\n}\nexport default Beverage","import React from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { Typography, CardContent } from '@material-ui/core'\nimport Pizza from './Pizza';\nimport Beverage from './Beverage';\n\nconst PlaceMenu = ({ items, place }) => {\n\n  const user = useSelector(state => state.activeUser.user)\n  const beverages = items.filter(i => i.type === 'beverages')\n  const pizza = items.filter(i => i.type === 'pizza')\n  const history = useHistory()\n\n  const sendToCart = () => {\n    history.push('/dashboard/cart')\n  }\n\n  if (!place.opening_hours.open_now) {\n    return (\n      <div className='placeDetailsDiv'>\n        {place !== undefined &&\n          <div className='placeDetailsClosed'>\n            <CardContent>\n              <Typography variant='body1'>Sorry, this restaurant is closed.</Typography>\n              <br />\n            </CardContent>\n          </div>\n        }\n      </div>\n    )\n  }\n\n  return (\n    <React.Fragment>\n      <div style={{ width: \"100%\", height: 20 }}></div>\n      <Pizza pizza={pizza} place={place} user={user} />\n      <div style={{ width: \"100%\", height: 40 }}></div>\n      <Beverage beverages={beverages} user={user} place={place} sendToCart={sendToCart}\n      />\n    </React.Fragment>\n  )\n}\nexport default PlaceMenu","import React from 'react'\nimport { Box } from '@material-ui/core'\n\nconst TabPanel = (props) => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box div={3}>\n          {children}\n        </Box>\n      )}\n    </div>\n  );\n}\nexport default TabPanel","import React from 'react'\nimport { Skeleton } from '@material-ui/lab'\nimport { Typography, CardContent } from '@material-ui/core'\n\nconst PlaceInfoSkeleton = () => {\n  return (\n    <div className='sticky-head-places'>\n      <Typography variant='body1' style={{ textAlign: 'center', fontSize: 16, marginTop: 20 }}>\n        <Skeleton variant='text' /></Typography>\n      <br />\n      <div className='placeDetailsDiv'>\n        <div className='placeDetailsCard'>\n          <CardContent style={{ minWidth: 240, maxWidth: 400, marginLeft: 30 }}>\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n          </CardContent>\n        </div>\n        <div className='placeDetailsCard'>\n          <CardContent style={{ minWidth: 240, maxWidth: 400, marginLeft: 30 }}>\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n            <Skeleton variant='text' style={{ backgroundColor: '#262424' }} />\n          </CardContent>\n        </div>\n      </div>\n    </div>\n  )\n}\n// <div className='sticky-head'>\n//   <Typography variant='body1' style={{ textAlign: 'center', fontSize: 26, marginTop: 20 }}><Skeleton variant='text' /></Typography>\n//   <div className='placeDetailsDivSkeleton'>\n//     <Card className='placeDetailsCardSkeleton'>\n//       <CardContent >\n//         <Skeleton variant=\"text\" width={'100%'} />\n//         <Skeleton variant=\"text\" width={'100%'} />\n//         <Skeleton variant=\"text\" width={'100%'} />\n//         <Skeleton variant=\"text\" width={'100%'} />\n//         <Skeleton variant=\"text\" width={'100%'} />\n//         <Skeleton variant=\"text\" width={'100%'} />\n//         <Skeleton variant=\"text\" width={'100%'} />\n//         <Skeleton variant=\"text\" width={'100%'} />\n//         <Skeleton variant=\"text\" width={'100%'} />\n//       </CardContent>\n//     </Card>\n//   </div>\n// </div>\n//   )\n// }\nexport default PlaceInfoSkeleton","import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams } from 'react-router'\nimport { getPlaceDetails } from '../reducers/placesReducer'\nimport { initMenu } from '../reducers/placesReducer'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport PlaceNameAddress from './PlaceNameAddress';\nimport Promos from './Promos'\nimport PlaceReviews from './PlaceReviews';\nimport PlaceMenu from './PlaceMenu'\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport TabPanel from './TabPanel'\nimport PlaceInfoSkeleton from './PlaceInfoSkeleton'\nimport { Typography } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    paddingLeft: theme.spacing(0),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  fixedHeight: {\n    height: 200,\n  },\n  menu: {\n    height: 'auto',\n  },\n  appBar: {\n    color: 'white',\n    backgroundColor: 'black'\n  },\n  indicator: {\n    backgroundColor: '#ff2f0a'\n  }\n}))\n\nconst MainPlaceDetails = () => {\n\n  const classes = useStyles();\n  const user = useSelector(state => state.activeUser.user)\n  let place_id = useParams()\n  const dispatch = useDispatch()\n  const place = useSelector(state => state.placesReducer.placeDetails)\n  const items = useSelector(state => state.placesReducer.menu ? state.placesReducer.menu : undefined)\n\n  const [value, setValue] = useState(0);\n  useEffect(() => {\n    if (!place || place.place_id !== place_id.id)\n      dispatch(getPlaceDetails(place_id))\n  }, [dispatch, place, place_id])\n\n\n  useEffect(() => {\n    if (!items) {\n      dispatch(initMenu())\n    }\n  }, [dispatch, items])\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <React.Fragment>\n      <Grid container direction='row' justify='space-evenly' spacing={2}>\n        <Grid item xs={12} sm={12} md={12} lg={12}>\n          {!place || !items ?\n            <PlaceInfoSkeleton />\n            :\n            <div>\n              <PlaceNameAddress place={place} />\n            </div>\n          }\n        </Grid>\n        <Grid item xs={12} sm={12} md={12} lg={12}>\n          {!place || !items ?\n            null\n            :\n            <div>\n              <AppBar position=\"relative\" className={classes.appBar}>\n                <Tabs value={value} onChange={handleChange} centered classes={{ indicator: classes.indicator }}>\n                  <Tab label=\"Menu\" style={{ textTransform: 'none', fontSize: 16, fontWeight: 'bold' }} />\n                  <Tab label=\"Promotions\" style={{ textTransform: 'none', fontSize: 16, fontWeight: 'bold' }} />\n                  <Tab label=\"Reviews\" style={{ textTransform: 'none', fontSize: 16, fontWeight: 'bold' }} />\n                </Tabs>\n              </AppBar>\n              <TabPanel value={value} index={0}>\n                {user.cart.length === 0 || user.cart[0].restaurantId === place.place_id ?\n                  <PlaceMenu items={items} place={place} />\n                  :\n                  <div style={{ color: 'white', display: 'flex', flexDirection: 'column', justifyContent: 'center', margin: 'auto', width: 300, marginTop: 30 }}>\n                    <Typography variant='h5' style={{ flexBasis: '100%', textAlign: 'center', color: '#ff2f0a' }}>Oops...</Typography>\n                    <Typography variant='body1' style={{ textAlign: 'center', color: 'gray' }}>\n                      You already have items from <em style={{ color: 'white' }}>{user.cart[0].restaurantName}</em> in your cart.  Please complete your order from that restaurant first, or remove those items from your cart.\n                    </Typography>\n                  </div>}\n              </TabPanel>\n              <TabPanel value={value} index={1}>\n                <Promos />\n              </TabPanel>\n              <TabPanel value={value} index={2}>\n                <PlaceReviews place={place} />\n              </TabPanel>\n            </div>\n          }\n        </Grid>\n      </Grid>\n    </React.Fragment>\n  )\n\n}\nexport default MainPlaceDetails","import React, { useState, useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Button, Typography } from '@material-ui/core'\nimport { setPlaces, setHomeGPS } from '../reducers/placesReducer'\nimport { addFavorite } from '../reducers/activeUserReducer'\nimport { getByCoordinates } from '../services/dataService'\nimport { useHistory } from 'react-router'\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport FavoriteIcon from '@material-ui/icons/FavoriteBorderOutlined';\nimport IconButton from '@material-ui/core/IconButton';\nimport Chip from '@material-ui/core/Chip';\nimport Rating from '@material-ui/lab/Rating';\nimport Skeleton from '@material-ui/lab/Skeleton';\nimport Grow from '@material-ui/core/Grow';\nimport { CheckCircleOutline, ChevronLeft, ChevronRight, RemoveCircleOutline } from '@material-ui/icons';\n\nexport const calcDistance = (lat1, lat2, lng1, lng2) => {\n  const pi = Math.PI\n  let radiansLat1 = lat1 * (pi / 180)\n  let radiansLat2 = lat2 * (pi / 180)\n  let radiansLng1 = lng1 * (pi / 180)\n  let radiansLng2 = lng2 * (pi / 180)\n\n  let dlon = radiansLng2 - radiansLng1\n  let dlat = radiansLat2 - radiansLat1\n\n  let ans = Math.pow(Math.sin(dlat / 2), 2) + Math.cos(lat1) * Math.cos(lat2) * Math.pow(Math.sin(dlon / 2), 2)\n  let c = 2 * Math.asin(Math.sqrt(ans))\n  const radiusOfEarth = 6371\n\n  return c * radiusOfEarth\n}\n\nconst GeoDataList = ({ scrollRef }) => {\n  const user = useSelector(state => state.activeUser.user)\n  const geoData = useSelector(state => (state.placesReducer.nearbyPlaces && user.favoriteRestaurants) ? state.placesReducer.nearbyPlaces.filter(p => !user.favoriteRestaurants.includes(p.place_id)) : null)\n  const homeGPS = useSelector(state => state.placesReducer.homeGPS)\n  const [waiting, setWaiting] = useState(false)\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const isMountedRef = useRef(null)\n\n\n  useEffect(() => {\n    isMountedRef.current = true\n    if (navigator.geolocation && (!homeGPS || (!homeGPS.lat || !homeGPS.lon))) {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        console.log('georunning')\n        if (isMountedRef.current) {\n          dispatch(setHomeGPS(position.coords.latitude, position.coords.longitude))\n        }\n      })\n    }\n    return () => isMountedRef.current = false\n  }, [dispatch, homeGPS])\n\n  useEffect(() => {\n    isMountedRef.current = true\n    const loadData = async () => {\n      if (homeGPS && isMountedRef.current) {\n        const res = await getByCoordinates(homeGPS.lat, homeGPS.lon)\n        if (isMountedRef.current)\n          dispatch(setPlaces(res.results))\n      }\n    }\n    loadData()\n    return () => isMountedRef.current = false\n  }, [dispatch, homeGPS])\n\n  const addToFavorites = (place_id) => {\n    setWaiting(true)\n    try {\n      dispatch(addFavorite(place_id, user._id))\n      setWaiting(false)\n    } catch (error) {\n      console.log(error)\n      setWaiting(false)\n    }\n  }\n  const handleClick = (place_id) => {\n    history.push(`/dashboard/restaurant/${place_id}`)\n  }\n  const scroll = (scrollOffset) => {\n    scrollRef.current.scrollLeft += scrollOffset;\n  }\n\n  //handle loading state with Skeleton\n  if (!geoData || !homeGPS || waiting) {\n    return (\n      <div className='sticky-head'>\n        <Typography variant='body1' style={{ textAlign: 'center', fontSize: 20, marginTop: 20 }}><strong>Near Me</strong></Typography>\n        <div className='outerDashDiv'>\n          <Button className='btn' onClick={() => scroll(-400)}>\n            <ChevronLeft style={{ fontSize: 50 }} />\n          </Button>\n          <div className='dashDiv' ref={scrollRef} >\n            <Card>\n              <Skeleton variant=\"rect\" width={200} height={200} style={{ backgroundColor: '#262424' }} />\n            </Card>\n            <Card>\n              <Skeleton variant=\"rect\" width={200} height={200} style={{ backgroundColor: '#262424' }} />\n            </Card>\n            <Card>\n              <Skeleton variant=\"rect\" width={200} height={200} style={{ backgroundColor: '#262424' }} />\n            </Card>\n            <Card>\n              <Skeleton variant=\"rect\" width={200} height={200} style={{ backgroundColor: '#262424' }} />\n            </Card>\n            <Card>\n              <Skeleton variant=\"rect\" width={200} height={200} style={{ backgroundColor: '#262424' }} />\n            </Card>\n            <Card>\n              <Skeleton variant=\"rect\" width={200} height={200} style={{ backgroundColor: '#262424' }} />\n            </Card>\n          </div>\n          <Button className='btn' onClick={() => scroll(400)}>\n            <ChevronRight style={{ fontSize: 50 }} />\n          </Button>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className='sticky-head'>\n      <Typography variant='body1' style={{ textAlign: 'center', fontSize: 20, marginTop: 20 }}><strong>Near Me</strong></Typography>\n      <div className='outerDashDiv'>\n        <Button className='btn' onClick={() => scroll(-400)}>\n          <ChevronLeft style={{ fontSize: 50 }} />\n        </Button>\n        <div className='dashDiv' ref={scrollRef} >\n          {geoData && homeGPS ? geoData.map(place =>\n            <Grow key={place.place_id} in={geoData !== undefined}>\n              <Card key={place.place_id}>\n                <CardHeader titleTypographyProps={{ variant: 'h4' }} title={place.name} subheader={calcDistance(homeGPS.lat, place.geometry.location.lat, homeGPS.lon, place.geometry.location.lng).toFixed(2) + ' km'} />\n                <CardActions>\n                  <IconButton className='iconBtn' aria-label=\"add to favorites\" onClick={() => addToFavorites(place.place_id)}>\n                    <FavoriteIcon />\n                  </IconButton>\n                  {place && place.opening_hours && place.opening_hours.open_now\n                    ?\n                    <Chip style={{ fontSize: 10 }} size='small' variant='outlined' label=\"Open\" icon={<CheckCircleOutline style={{ color: 'green' }} />} />\n                    :\n                    <Chip style={{ fontSize: 10 }} variant='outlined' label=\"Closed\" size='small' icon={<RemoveCircleOutline style={{ color: 'red', fontSize: 18 }} />} />}\n                  {place.price_level ?\n                    <Typography variant='body1' style={{ marginBottom: 8, fontFamily: 'monospace' }} >\n                      {`$`.repeat(place.price_level)}\n                    </Typography>\n                    :\n                    <Typography variant='body1' style={{ marginBottom: 8, fontFamily: 'monospace' }} >\n                      {`$$`}\n                    </Typography>\n                  }\n                  <Rating style={{ marginBottom: 10 }} name=\"read-only\" value={place.rating} readOnly size='small' precision={0.5} />\n                  <Button className='detailsBtn' fullWidth={true} size='small' onClick={() => handleClick(place.place_id)}>Order\n            </Button>\n                </CardActions>\n              </Card>\n            </Grow>\n          )\n            :\n            null\n          }\n        </div>\n        <Button className='btn' onClick={() => scroll(400)}>\n          <ChevronRight style={{ fontSize: 50 }} />\n        </Button>\n      </div>\n    </div>\n  )\n}\nexport default GeoDataList","import React from 'react';\nimport { useHistory } from 'react-router-dom'\nimport { faPizzaSlice } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { IconButton } from '@material-ui/core';\n\nconst MapMarker = (props) => {\n  const { name, place_id } = props;\n  const history = useHistory()\n\n  const handleClick = (place_id) => {\n    history.push(`/dashboard/restaurant/${place_id}`)\n  }\n  return (\n    <div className=\"marker\"\n      style={{ fontSize: 18 }}\n      title={name}>\n      <IconButton onClick={() => handleClick(place_id)}>\n        <FontAwesomeIcon icon={faPizzaSlice} style={{ color: '#ff430a' }} />\n      </IconButton>\n    </div>\n  );\n};\n\nexport default MapMarker;","import React from 'react';\nimport { Avatar } from '@material-ui/core';\nimport HomeIcon from '@material-ui/icons/Home';\n\nconst HomeMarker = (props) => {\n  const { name } = props;\n  return (\n    <div className=\"marker\"\n      title={name}>\n      <Avatar alt='logo' height={15} width={15} style={{ backgroundColor: '#554fc2', zIndex: 1000 }} ><HomeIcon /></Avatar>\n    </div>\n  );\n};\n\nexport default HomeMarker;","import React from 'react'\nimport GoogleMapReact from 'google-map-react'\nimport MapMarker from './MapMarker'\nimport HomeMarker from './HomeMarker'\nimport { useSelector } from 'react-redux'\nimport { Typography } from '@material-ui/core'\n\n\nconst GeoDisplay = () => {\n  const homeGPS = useSelector(state => state.placesReducer.homeGPS)\n  const geoData = useSelector(state => state.placesReducer.nearbyPlaces)\n\n  let center\n  if (homeGPS) {\n    center = {\n      lat: homeGPS.lat,\n      lng: homeGPS.lon\n    }\n  } else {\n    center = {\n      lat: 0,\n      lon: 0\n    }\n  }\n  const dCent = {\n    lat: 46,\n    lng: 74\n  }\n  const zoom = 13\n\n  //is there a better way to protect this key? GoogleMapReact needs it so I can't move it to the server\n  const key = process.env.REACT_APP_GOOGLE_KEY\n\n  if (!geoData || !homeGPS) {\n    return null\n  }\n  return (\n    <div className='mapDiv'>\n      <Typography variant='body1' style={{ textAlign: 'center', fontSize: 20 }}><strong>Locations</strong></Typography>\n      <GoogleMapReact\n        bootstrapURLKeys={{ key: key }}\n        defaultCenter={dCent}\n        defaultZoom={zoom}\n        center={center}>\n        {geoData && geoData.length > 0 ?\n          <HomeMarker\n            lat={homeGPS.lat}\n            lng={homeGPS.lon}\n            name='Me' />\n          : null\n        }\n\n        {\n          geoData && geoData.length > 0 ?\n            geoData.map(place =>\n              <MapMarker key={place.place_id}\n                lat={place.geometry.location.lat}\n                lng={place.geometry.location.lng}\n                name={place.name}\n                place_id={place.place_id}\n              />\n            )\n            :\n            null}\n      </GoogleMapReact>\n    </div >\n  )\n}\nexport default GeoDisplay","import React, { useState, useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Button, Typography } from '@material-ui/core'\nimport { removeFavorite } from '../reducers/activeUserReducer'\nimport { geoActive } from '../reducers/placesReducer'\nimport { useHistory } from 'react-router'\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport { calcDistance } from './GeoDataList'\nimport Chip from '@material-ui/core/Chip';\nimport { CheckCircleOutline, ChevronLeft, ChevronRight, Favorite, FavoriteRounded, RemoveCircleOutline } from '@material-ui/icons';\nimport Rating from '@material-ui/lab/Rating'\nimport Skeleton from '@material-ui/lab/Skeleton'\nimport Grow from '@material-ui/core/Grow';\n\nconst Favorites = () => {\n  const dispatch = useDispatch()\n  const user = useSelector(state => state.activeUser.user)\n  const geoData = useSelector(state => state.placesReducer.nearbyPlaces && user.favoriteRestaurants ? state.placesReducer.nearbyPlaces.filter(p => user.favoriteRestaurants.includes(p.place_id)) : null)\n\n  const [waiting, setWaiting] = useState(false)\n  const [lat, setLat] = useState(0)\n  const [lon, setLon] = useState(0)\n  const history = useHistory()\n  const isMountedRef = useRef(null)\n  const scrollRef = useRef(null);\n\n  useEffect(() => {\n    isMountedRef.current = true\n    if (!navigator.geolocation) {\n      dispatch(geoActive(false))\n    } else {\n      dispatch(geoActive(true))\n    }\n    if (navigator.geolocation && !lat && !lon) {\n      navigator.geolocation.getCurrentPosition(function (position) {\n        if (isMountedRef.current) {\n          setLat(position.coords.latitude)\n          setLon(position.coords.longitude)\n        }\n      })\n    }\n    return () => isMountedRef.current = false\n  }, [lat, lon, dispatch])\n\n  useEffect(() => {\n    if (!geoData) {\n      setWaiting(true)\n    } else {\n      setWaiting(false)\n    }\n  }, [setWaiting, geoData])\n\n  const removeFromFavorites = (place_id) => {\n    setWaiting(true)\n    try {\n      dispatch(removeFavorite(place_id, user._id))\n      setWaiting(false)\n    } catch (error) {\n      console.log(error)\n      setWaiting(false)\n    }\n  }\n\n  const handleClick = (place_id) => {\n    history.push(`/dashboard/restaurant/${place_id}`)\n  }\n  const scroll = (scrollOffset) => {\n    scrollRef.current.scrollLeft += scrollOffset;\n  };\n\n  if (waiting) {\n    return (\n      <div className='sticky-head'>\n        <Typography variant='body1' style={{ textAlign: 'center', fontSize: 20, marginTop: 20 }}><strong>Favorites</strong></Typography>\n        <div className='outerDashDiv'>\n          <Button className='btn' onClick={() => scroll(-400)}>\n            <ChevronLeft style={{ fontSize: 50 }} />\n          </Button>\n          <div className='dashDiv' ref={scrollRef} >\n            <Card>\n              <Skeleton variant=\"rect\" width={200} height={200} style={{ backgroundColor: '#262424' }} />\n            </Card>\n            <Card>\n              <Skeleton variant=\"rect\" width={200} height={200} style={{ backgroundColor: '#262424' }} />\n            </Card>\n          </div>\n          <Button className='btn' onClick={() => scroll(400)}>\n            <ChevronRight style={{ fontSize: 50 }} />\n          </Button>\n        </div>\n      </div>\n    )\n  }\n  return (\n    <div className='sticky-head'>\n      <Typography variant='body1' style={{ textAlign: 'center', fontSize: 20, marginTop: 20 }}><strong>Favorites</strong></Typography>\n      <div className='outerDashDiv'>\n        <Button className='btn' onClick={() => scroll(-400)}>\n          <ChevronLeft style={{ fontSize: 50 }} />\n        </Button>\n        <div className='dashDiv' ref={scrollRef} >\n          {geoData && geoData.length > 0 ? geoData.map(place =>\n            <Grow key={place.place_id} in={!waiting}>\n              <Card >\n                <CardHeader titleTypographyProps={{ variant: 'h4' }} title={place.name} subheader={calcDistance(lat, place.geometry.location.lat, lon, place.geometry.location.lng).toFixed(2) + ' km'} />\n                <CardActions>\n                  <IconButton className='iconBtn' aria-label=\"add to favorites\" onClick={() => removeFromFavorites(place.place_id)}>\n                    <FavoriteRounded />\n                  </IconButton>\n                  {place.opening_hours.open_now\n                    ?\n                    <Chip style={{ fontSize: 10 }} size='small' variant='outlined' label=\"Open\" icon={<CheckCircleOutline style={{ color: 'green' }} />} />\n                    :\n                    <Chip style={{ fontSize: 10 }} size='small' variant='outlined' label=\"Closed\" icon={<RemoveCircleOutline style={{ color: 'red', fontSize: 18 }} />} />}\n                  {place.price_level ?\n                    <Typography variant='body1' style={{ marginBottom: 8, fontFamily: 'monospace' }} >\n                      {`$`.repeat(place.price_level)}\n                    </Typography>\n                    :\n                    <Typography variant='body1' style={{ marginBottom: 8, fontFamily: 'monospace' }} >\n                      {`$$`}\n                    </Typography>\n                  }\n                  <Rating style={{ marginBottom: 10 }} name=\"read-only\" value={place.rating} readOnly size='small' precision={0.5} />\n                  <Button className='detailsBtn' fullWidth={true} size='small' onClick={() => handleClick(place.place_id)}>Order\n            </Button>\n                </CardActions>\n              </Card>\n            </Grow>\n          )\n            : <div style={{ display: 'inline-flex', height: '90%', width: '100%', margin: 'auto', justifyContent: 'center', alignItems: 'center' }}>\n              <Typography variant='caption' style={{ display: 'flex', color: 'white', lineHeight: 1.3 }}>\n                Click the  <span style={{ marginLeft: 5, marginRight: 5 }}><Favorite style={{ fontSize: 14 }} /></span>  to add or remove favorites\n          </Typography>\n            </div>\n          }\n        </div>\n        <Button className='btn' onClick={() => scroll(400)}>\n          <ChevronRight style={{ fontSize: 50 }} />\n        </Button>\n      </div>\n    </div >\n  )\n}\nexport default Favorites","import React, { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button'\nimport { requestAddRestaurant } from '../reducers/placesReducer'\n\nconst RequestPartnerForm = () => {\n  const [name, setName] = useState('')\n  const homeGPS = useSelector(state => state.placesReducer.homeGPS)\n  const [open, setOpen] = useState(false);\n  const dispatch = useDispatch()\n\n  const sendRestContact = async (event) => {\n    event.preventDefault()\n    try {\n      dispatch(requestAddRestaurant(name, homeGPS.lat, homeGPS.lon))\n    } catch (error) {\n      console.log(error)\n    }\n    setName('')\n    handleClose()\n  }\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleNameChange = (e) => {\n    setName(e.target.value)\n  }\n  return (\n    <div style={{ textAlign: 'right', marginRight: 20 }}>\n      <Button onClick={handleClickOpen} style={{ textTransform: 'none', color: 'gray', fontSize: 10, padding: 0 }}>\n        Don't see your favorite restaurant?\n      </Button>\n      <Dialog open={open} onClose={handleClose}>\n        <DialogTitle>Send us their information, and we'll reach out to them with our partnership opportunity!</DialogTitle>\n        <DialogContent style={{ textAlign: 'center' }}>\n          <TextField style={{ backgroundColor: 'white', marginBottom: 8 }} variant='outlined' label=\"Restaurant Name\" size='small' value={name} onChange={handleNameChange} /><br />\n        </DialogContent>\n        <DialogActions style={{ justifyContent: 'center' }}>\n          <Button onClick={handleClose} color=\"default\">\n            Cancel\n          </Button>\n          <Button onClick={sendRestContact} variant='contained' style={{ backgroundColor: '#ff2f0a', color: 'white' }}>\n            Send\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n\n  )\n}\nexport default RequestPartnerForm\n\n","import React, { useEffect, useRef, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { geoActive } from '../reducers/placesReducer'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport GeoDataList from './GeoDataList';\nimport GeoDisplay from './GeoDisplay';\nimport Favorites from './Favorites';\nimport UserAddressesModal from './UserAddressesModal';\nimport RequestPartnerForm from './RequestPartnerForm';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n  background: {\n    backgroundColor: 'black'\n  },\n  mapGrid: {\n    display: 'flex',\n    justifyContent: 'center'\n  }\n\n}))\n\nconst MainDashboard = () => {\n  const classes = useStyles();\n  const user = useSelector(state => state.activeUser.user)\n  const dispatch = useDispatch()\n  const isMountedRef = useRef(null)\n  const [openOnClick, setOpenOnClick] = useState(false)\n  const scrollRef = useRef(null);\n  const [showFormLink, setShowFormLink] = useState(false)\n\n  useEffect(() => {\n    isMountedRef.current = true\n    navigator.geolocation.getCurrentPosition((position) => {\n      console.log(position)\n      dispatch(geoActive(true))\n    }, (error) => {\n      console.log(error)\n      dispatch(geoActive(false))\n      window.alert('We can`t get your location. Please make sure location services are allowed in your browser, then reload the page')\n    })\n    return () => isMountedRef.current = false\n  }, [dispatch])\n\n  setInterval(() => {\n    if (scrollRef.current && scrollRef.current.scrollLeft > 800) {\n      setShowFormLink(true)\n    }\n  }, 5000);\n\n  return (\n    <React.Fragment>\n      <Grid container direction='row' justify='space-evenly' spacing={2}>\n        <Grid item xs={12} sm={12} md={12} lg={12}>\n          <GeoDataList scrollRef={scrollRef} />\n          {showFormLink ?\n            <RequestPartnerForm />\n            : <div id='RequestPartnerFormSpacer' style={{ height: 20 }}></div>}\n        </Grid>\n        <Grid item xs={12} sm={12} md={6} lg={6}>\n          <Favorites />\n        </Grid>\n        <Grid className={classes.mapGrid} item xs={12} sm={12} md={12} lg={12}>\n          <GeoDisplay />\n        </Grid>\n      </Grid>\n      <UserAddressesModal user={user} titleMessage={`Tell us where to deliver your pizza, and we'll save your information so you only have to do this once.`} openOnClick={openOnClick} setOpenOnClick={setOpenOnClick} />\n    </React.Fragment>\n\n  )\n}\nexport default MainDashboard","\nimport React from 'react'\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\n\nconst AccountInfo = ({ user }) => {\n  return (\n    <div className='sticky-head'>\n      <Typography variant='body1' style={{ textAlign: 'center', fontSize: 20, marginTop: 20 }}><strong>Information</strong></Typography>\n      <div className='accountDetailsDiv'>\n        {user !== undefined ?\n          <Card className='accountDetailsCard'>\n            <CardContent>\n              <Typography variant='body1' color='textPrimary'>{user.firstName}</Typography>\n              <Typography variant='body2' color='textSecondary'>{user.email}</Typography>\n              <Typography variant='body2' color='textSecondary'>Payment method: Cash on delivery</Typography>\n              <Typography variant='body2' color='textSecondary'>Registered via {user.googleId ? 'Google' : 'local email/password creation'} on {new Date(user.createdAt).toString().slice(0, 25)}</Typography>\n            </CardContent>\n          </Card>\n          : <h3>Loading...</h3>}\n      </div>\n    </div>\n  )\n}\n\nexport default AccountInfo\n","import React, { useState, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button, TextField } from '@material-ui/core'\nimport { Formik } from 'formik';\nimport { editAddress } from '../reducers/activeUserReducer'\n\nconst EditAddressesModal = ({ user, titleMessage, editOnClick, setEditOnClick }) => {\n\n  const dispatch = useDispatch()\n  const addressToEdit = user.addresses[editOnClick.indexToEdit]\n  const [modalOpen, setModalOpen] = useState(editOnClick.open)\n\n  useEffect(() => {\n    if (editOnClick.isOpen) {\n      setModalOpen(true)\n    }\n  }, [setModalOpen, editOnClick])\n\n  const handleModalClose = () => {\n    setModalOpen(false)\n    setEditOnClick({ isOpen: false, indexToEdit: null })\n  };\n\n  return (\n    <div >\n      {modalOpen ?\n        <Dialog open={modalOpen} onClose={handleModalClose} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">{titleMessage}</DialogTitle>\n          <DialogContent>\n            <Formik\n              initialValues={{\n                ...addressToEdit\n              }}\n              validate={values => {\n                const errors = {};\n                if (!values.locationName) {\n                  errors.locationName = 'Required'\n                }\n                if (!values.addressNumber) {\n                  errors.addressNumber = 'Required'\n                }\n                if (!values.street) {\n                  errors.street = 'Required'\n                }\n                if (!values.city) {\n                  errors.city = 'Required'\n                }\n                if (!values.state) {\n                  errors.state = 'Required'\n                }\n                if (!values.country) {\n                  errors.country = 'Required'\n                }\n                if (!values.zip) {\n                  errors.zip = 'Required'\n                }\n                return errors;\n              }}\n              onSubmit={async (values, { setSubmitting, resetForm }) => {\n                setSubmitting(true)\n                dispatch(editAddress(user._id, editOnClick.indexToEdit, {\n                  locationName: values.locationName,\n                  addressNumber: values.addressNumber,\n                  street: values.street,\n                  city: values.city,\n                  state: values.state,\n                  country: values.country,\n                  zip: values.zip,\n                  specialInstructions: values.specialInstructions\n                }))\n                handleModalClose()\n              }}\n            >\n              {({\n                values,\n                errors,\n                touched,\n                handleChange,\n                handleBlur,\n                handleSubmit,\n                isSubmitting,\n                /* and other goodies */\n              }) => (\n                  <form style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-evenly' }} onSubmit={handleSubmit}>\n                    <TextField\n                      type=\"text\"\n                      label='Location Name'\n                      name=\"locationName\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.locationName}\n                      error={errors.locationName && touched.locationName ? true : false}\n                      helperText={errors.locationName && touched.locationName && errors.locationName}\n                      style={{ margin: 10 }}\n                    />\n                    {/* {errors.locationName && touched.locationName && errors.locationName} */}\n                    <TextField\n                      type=\"number\"\n                      label='Building Number'\n                      name=\"addressNumber\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.addressNumber}\n                      error={errors.addressNumber && touched.addressNumber ? true : false}\n                      helperText={errors.addressNumber && touched.addressNumber && errors.addressNumber}\n                      style={{ margin: 10 }}\n                    />\n\n                    <TextField\n                      type=\"text\"\n                      label='Street'\n                      name=\"street\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.street}\n                      error={errors.street && touched.street ? true : false}\n                      helperText={errors.street && touched.street && errors.street}\n                      style={{ margin: 10 }}\n                    />\n\n                    <TextField\n                      type=\"text\"\n                      label='City/Town'\n                      name=\"city\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.city}\n                      error={errors.city && touched.city ? true : false}\n                      helperText={errors.city && touched.city && errors.city}\n                      style={{ margin: 10 }}\n                    />\n                    <TextField\n                      type=\"text\"\n                      label='State/Province'\n                      name=\"state\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.state}\n                      error={errors.state && touched.state ? true : false}\n                      helperText={errors.state && touched.state && errors.state}\n                      style={{ margin: 10 }}\n                    />\n                    <TextField\n                      type=\"text\"\n                      label='Country'\n                      name=\"country\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.country}\n                      error={errors.country && touched.country ? true : false}\n                      helperText={errors.country && touched.country && errors.country}\n                      style={{ margin: 10 }}\n                    />\n                    <TextField\n                      type=\"text\"\n                      label='Zip Code'\n                      name=\"zip\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.zip}\n                      error={errors.zip && touched.zip ? true : false}\n                      helperText={errors.zip && touched.zip && errors.zip}\n                      style={{ margin: 10 }}\n                    />\n\n                    <TextField\n                      type=\"text\"\n                      label='Special instructions?'\n                      name=\"specialInstructions\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.specialInstructions}\n                      helperText={errors.specialInstructions && touched.specialInstructions && errors.specialInstructions}\n                      style={{ margin: 10 }}\n                    />\n                    <div style={{ display: 'block', width: '100%', marginTop: 20 }}>\n                      <DialogActions>\n                        <Button onClick={handleModalClose} color=\"default\">\n                          Cancel\n                    </Button>\n                        <Button type='submit' variant='contained' style={{ backgroundColor: '#ff2f0a', color: 'white' }}>\n                          Submit\n                    </Button>\n                      </DialogActions>\n                    </div>\n                  </form>\n                )}\n            </Formik>\n          </DialogContent>\n        </Dialog>\n        : null}\n    </div>\n  )\n}\nexport default EditAddressesModal","import React, { useState } from 'react'\nimport { Card, CardContent, Typography, IconButton, CardActions } from '@material-ui/core';\nimport { AddBox, Edit } from '@material-ui/icons';\nimport UserAddressesModal from './UserAddressesModal';\nimport EditAddressesModal from './EditAddressModal';\n\n\nconst AccountAddresses = ({ user }) => {\n\n  const addresses = user.addresses\n  const [openOnClick, setOpenOnClick] = useState(false)\n  const [editOnClick, setEditOnClick] = useState({\n    isOpen: false,\n    indexToEdit: null\n  })\n\n  const handleEditAddress = (addressIndex) => {\n    setEditOnClick({\n      isOpen: true,\n      indexToEdit: addressIndex\n    })\n  }\n  return (\n    <div className='account-sticky-head'>\n      <Typography variant='body1' style={{ textAlign: 'center', fontSize: 20, marginTop: 20 }}><strong>Addresses</strong></Typography>\n      <div className='accountDetailsDiv'>\n        {addresses ? addresses.map((a, i) =>\n          <Card key={a._id} className='accountDetailsCard' >\n            <CardContent style={{ paddingBottom: 0, margin: 'auto' }} >\n              <Typography variant='body1' color=\"textPrimary\">\n                {a.locationName}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {a.addressNumber} {a.street}\n              </Typography >\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {a.city}, {a.state},  {a.country}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {a.zip}\n              </Typography>\n            </CardContent>\n            <CardActions style={{ display: 'block' }}>\n              <IconButton aria-label=\"edit address\" onClick={() => handleEditAddress(i)} style={{ color: 'rgb(221, 68, 68)', float: 'right', padding: 6, marginRight: 20, fontSize: 16 }}>\n                <Edit style={{ marginRight: 10, float: 'right' }} />Edit\n            </IconButton>\n            </CardActions>\n          </Card>\n        )\n          : null}\n        <div className='accountAddDiv'>\n          <IconButton aria-label=\"add an address\" style={{ fontSize: 16, color: 'darkgray' }} onClick={() => setOpenOnClick(true)}>\n            <AddBox style={{ fontSize: 30, marginRight: 10, color: 'darkgray' }} />Add Address\n      </IconButton>\n        </div>\n        <UserAddressesModal user={user} titleMessage={``} openOnClick={openOnClick} setOpenOnClick={setOpenOnClick} />\n        <EditAddressesModal user={user} titleMessage={``} editOnClick={editOnClick} setEditOnClick={setEditOnClick} />\n      </div>\n    </div>\n  )\n}\nexport default AccountAddresses","import React, { useState, useEffect, useRef } from 'react'\nimport { useDispatch } from 'react-redux'\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button, FormControlLabel, Radio, RadioGroup, TextField } from '@material-ui/core'\nimport { Formik } from 'formik';\nimport { addPaymentInfo } from '../reducers/activeUserReducer'\nimport { faCcAmex, faCcDiscover, faCcMastercard, faCcVisa } from '@fortawesome/free-brands-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\n\nconst AddPaymentModal = ({ user, titleMessage, openPaymentOnClick, setOpenPaymentOnClick }) => {\n\n  const dispatch = useDispatch()\n  const [paymentModalOpen, setPaymentModalOpen] = useState(false);\n\n  //used to compare with creditCardNumber count to determine if user is entering or removing digits\n  const digCount = useRef(null)\n\n  useEffect(() => {\n    if (openPaymentOnClick) {\n      setPaymentModalOpen(true)\n    }\n  }, [setPaymentModalOpen, openPaymentOnClick])\n\n  const handlePaymentModalClose = () => {\n    setPaymentModalOpen(false)\n    setOpenPaymentOnClick(false)\n  }\n\n  const formatNumber = (number) => {\n    //the numbers in this array represent the indexes at which to add a dash(-)\n    let dashify = [4, 9, 14]\n\n    //compare with digCount.current to determine whether user is adding or backspacing\n    let newCount = number.length\n\n    //if user is adding digits, want to append a dash in the correct index\n    if (dashify.includes(number.length) && newCount > digCount.current) {\n      number = number + '-'\n    }\n\n    //set updated digCount\n    digCount.current = number.length\n    return number\n  }\n\n  return (\n    <div >\n      {paymentModalOpen ?\n        <Dialog open={paymentModalOpen} onClose={handlePaymentModalClose} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">{titleMessage}</DialogTitle>\n          <DialogContent>\n            <Formik\n              initialValues={\n                {\n                  creditCardNumber: '',\n                  creditCardExpire: '',\n                  creditCardType: '',\n                  creditCardNameOnCard: '',\n                  creditCardCVV: ''\n                }\n              }\n              validate={values => {\n                const errors = {};\n                if (!values.creditCardNumber) {\n                  errors.creditCardNumber = 'Required'\n                } else if (!/^\\d{4}([-]?)((\\d{6}\\1?\\d{5})|(\\d{4}\\1?\\d{4}\\1?\\d{4}))$/i.test(values.creditCardNumber)) {\n                  errors.creditCardNumber = 'Invalid card number'\n                }\n                if (!values.creditCardExpire) {\n                  errors.creditCardExpire = 'Required'\n                }\n                if (!values.creditCardType) {\n                  errors.creditCardType = 'Required'\n                }\n                if (!values.creditCardNameOnCard) {\n                  errors.creditCardNameOnCard = 'Required'\n                }\n                if (!values.creditCardCVV) {\n                  errors.creditCardCVV = 'Required'\n                }\n                return errors;\n              }}\n              onSubmit={async (values, { setSubmitting, resetForm }) => {\n                setSubmitting(true)\n                dispatch(addPaymentInfo(user._id, {\n                  creditCardNumber: values.creditCardNumber,\n                  creditCardExpire: values.creditCardExpire,\n                  creditCardType: values.creditCardType,\n                  creditCardNameOnCard: values.creditCardNameOnCard,\n                  creditCardCVV: values.creditCardCVV,\n                }))\n                handlePaymentModalClose()\n              }}\n            >\n              {({\n                values,\n                errors,\n                touched,\n                handleChange,\n                handleBlur,\n                handleSubmit,\n                isSubmitting,\n                /* and other goodies */\n              }) => (\n                  <form style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'center' }} onSubmit={handleSubmit}>\n\n                    <RadioGroup aria-label=\"style\" name=\"Style\" value={values.creditCardType} onChange={handleChange} style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-evenly', flexBasis: '100%' }}>\n\n                      <FormControlLabel name='creditCardType'\n\n                        control={<Radio style={{ color: '#575551' }} value='visa' />}\n                        label={<FontAwesomeIcon icon={faCcVisa} />} />\n\n\n                      <FormControlLabel name='creditCardType'\n\n                        control={<Radio style={{ color: '#575551' }} value='mastercard' />}\n                        label={<FontAwesomeIcon icon={faCcMastercard} />} />\n\n                      <FormControlLabel name='creditCardType'\n\n                        control={<Radio style={{ color: '#575551' }} value='discover' />}\n                        label={<FontAwesomeIcon icon={faCcDiscover} />} />\n\n                      <FormControlLabel name='creditCardType'\n\n                        control={<Radio style={{ color: '#575551' }} value='amex' />}\n                        label={<FontAwesomeIcon icon={faCcAmex} />} />\n\n\n                    </RadioGroup>\n                    <br />\n                    <TextField\n                      type=\"text\"\n                      label='Name on Card'\n                      name=\"creditCardNameOnCard\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.creditCardNameOnCard}\n                      error={errors.creditCardNameOnCard && touched.creditCardNameOnCard ? true : false}\n                      helperText={errors.creditCardNameOnCard && touched.creditCardNameOnCard && errors.creditCardNameOnCard}\n                      style={{ margin: 10 }}\n                    />\n                    <TextField\n                      type=\"text\"\n                      label='Card Number'\n                      name=\"creditCardNumber\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={formatNumber(values.creditCardNumber)}\n                      error={errors.creditCardNumber && touched.creditCardNumber ? true : false}\n                      helperText={errors.creditCardNumber && touched.creditCardNumber && errors.creditCardNumber}\n                      style={{ margin: 10 }}\n                    />\n\n                    <TextField\n                      type=\"text\"\n                      label='Expires'\n                      name=\"creditCardExpire\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.creditCardExpire}\n                      error={errors.creditCardExpire && touched.creditCardExpire ? true : false}\n                      helperText={errors.creditCardExpire && touched.creditCardExpire && errors.creditCardExpire}\n                      style={{ margin: 10 }}\n                    />\n\n                    <TextField\n                      type=\"text\"\n                      label='CVV'\n                      name=\"creditCardCVV\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.creditCardCVV}\n                      error={errors.creditCardCVV && touched.creditCardCVV ? true : false}\n                      helperText={errors.creditCardCVV && touched.creditCardCVV && errors.creditCardCVV}\n                      style={{ margin: 10 }}\n                    />\n                    <div style={{ display: 'block', width: '100%', marginTop: 20 }}>\n                      <DialogActions>\n                        <Button onClick={handlePaymentModalClose} color=\"default\">\n                          Cancel\n                    </Button>\n                        <Button type='submit' variant='contained' style={{ backgroundColor: '#ff2f0a', color: 'white' }}>\n                          Submit\n                    </Button>\n                      </DialogActions>\n                    </div>\n                  </form>\n                )}\n            </Formik>\n          </DialogContent>\n        </Dialog>\n        : null}\n    </div>\n  )\n}\nexport default AddPaymentModal","import React, { useState, useEffect, useRef } from 'react'\nimport { useDispatch } from 'react-redux'\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button, FormControlLabel, Radio, RadioGroup, TextField } from '@material-ui/core'\nimport { Formik } from 'formik';\nimport { editPaymentInfo } from '../reducers/activeUserReducer'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faCcAmex, faCcDiscover, faCcMastercard, faCcVisa } from '@fortawesome/free-brands-svg-icons';\n// import { formatNumber } from './AddPaymentModal'\n\nconst EditPaymentModal = ({ user, titleMessage, editPaymentOnClick, setEditPaymentOnClick }) => {\n\n  const dispatch = useDispatch()\n  const paymentInfoToEdit = user.paymentInfoArray[editPaymentOnClick.indexToEdit]\n  const [modalOpen, setModalOpen] = useState(false);\n\n  //used to compare with creditCardNumber count to determine if user is entering or removing digits\n  const digCount = useRef(null)\n\n  useEffect(() => {\n    if (editPaymentOnClick.isOpen) {\n      setModalOpen(true)\n    }\n  }, [setModalOpen, editPaymentOnClick])\n\n  const handleModalClose = () => {\n    setModalOpen(false)\n    setEditPaymentOnClick(false)\n  }\n\n  const formatNumber = (number) => {\n    //the numbers in this array represent the indexes at which to add a dash(-)\n    let dashify = [4, 9, 14]\n\n    //compare with digCount.current to determine whether user is adding or backspacing\n    let newCount = number.length\n\n    //if user is adding digits, want to append a dash in the correct index\n    if (dashify.includes(number.length) && newCount > digCount.current) {\n      number = number + '-'\n    }\n\n    //set updated digCount\n    digCount.current = number.length\n    return number\n  }\n\n  return (\n    <div >\n      {modalOpen ?\n        <Dialog open={modalOpen} onClose={handleModalClose} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">{titleMessage}</DialogTitle>\n          <DialogContent>\n            <Formik\n              initialValues={{\n                ...paymentInfoToEdit\n              }}\n              validate={values => {\n                const errors = {};\n                if (!values.creditCardNumber) {\n                  errors.creditCardNumber = 'Required'\n                }\n                if (!values.creditCardExpire) {\n                  errors.creditCardExpire = 'Required'\n                }\n                if (!values.creditCardType) {\n                  errors.creditCardType = 'Required'\n                }\n                if (!values.creditCardNameOnCard) {\n                  errors.creditCardNameOnCard = 'Required'\n                }\n                if (!values.creditCardCVV) {\n                  errors.creditCardCVV = 'Required'\n                }\n                return errors;\n              }}\n              onSubmit={async (values, { setSubmitting, resetForm }) => {\n                setSubmitting(true)\n                dispatch(editPaymentInfo(user._id, {\n                  creditCardNumber: values.creditCardNumber,\n                  creditCardExpire: values.creditCardExpire,\n                  creditCardType: values.creditCardType,\n                  creditCardNameOnCard: values.creditCardNameOnCard,\n                  creditCardCVV: values.creditCardCVV,\n                }))\n                handleModalClose()\n              }}\n            >\n              {({\n                values,\n                errors,\n                touched,\n                handleChange,\n                handleBlur,\n                handleSubmit,\n                isSubmitting,\n                /* and other goodies */\n              }) => (\n                  <form style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'center' }} onSubmit={handleSubmit}>\n\n                    <RadioGroup aria-label=\"style\" name=\"Style\" value={values.creditCardType} onChange={handleChange} style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-evenly', flexBasis: '100%' }}>\n\n                      <FormControlLabel name='creditCardType'\n\n                        control={<Radio style={{ color: '#575551' }} value='visa' />}\n                        label={<FontAwesomeIcon icon={faCcVisa} />} />\n\n                      <FormControlLabel name='creditCardType'\n\n                        control={<Radio style={{ color: '#575551' }} value='mastercard' />}\n                        label={<FontAwesomeIcon icon={faCcMastercard} />} />\n\n                      <FormControlLabel name='creditCardType'\n\n                        control={<Radio style={{ color: '#575551' }} value='discover' />}\n                        label={<FontAwesomeIcon icon={faCcDiscover} />} />\n\n                      <FormControlLabel name='creditCardType'\n\n                        control={<Radio style={{ color: '#575551' }} value='amex' />}\n                        label={<FontAwesomeIcon icon={faCcAmex} />} />\n\n                    </RadioGroup>\n                    <br />\n                    <TextField\n                      type=\"text\"\n                      label='Name on Card'\n                      name=\"creditCardNameOnCard\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.creditCardNameOnCard}\n                      error={errors.creditCardNameOnCard && touched.creditCardNameOnCard ? true : false}\n                      helperText={errors.creditCardNameOnCard && touched.creditCardNameOnCard && errors.creditCardNameOnCard}\n                      style={{ margin: 10 }}\n                    />\n                    <TextField\n                      type=\"text\"\n                      label='Card Number'\n                      name=\"creditCardNumber\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={formatNumber(values.creditCardNumber)}\n                      error={errors.creditCardNumber && touched.creditCardNumber ? true : false}\n                      helperText={errors.creditCardNumber && touched.creditCardNumber && errors.creditCardNumber}\n                      style={{ margin: 10 }}\n                    />\n\n                    <TextField\n                      type=\"text\"\n                      label='Expires'\n                      name=\"creditCardExpire\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.creditCardExpire}\n                      error={errors.creditCardExpire && touched.creditCardExpire ? true : false}\n                      helperText={errors.creditCardExpire && touched.creditCardExpire && errors.creditCardExpire}\n                      style={{ margin: 10 }}\n                    />\n\n                    <TextField\n                      type=\"text\"\n                      label='CVV'\n                      name=\"creditCardCVV\"\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      value={values.creditCardCVV}\n                      error={errors.creditCardCVV && touched.creditCardCVV ? true : false}\n                      helperText={errors.creditCardCVV && touched.creditCardCVV && errors.creditCardCVV}\n                      style={{ margin: 10 }}\n                    />\n                    <div style={{ display: 'block', width: '100%', marginTop: 20 }}>\n                      <DialogActions>\n                        <Button onClick={handleModalClose} color=\"default\">\n                          Cancel\n                    </Button>\n                        <Button type='submit' variant='contained' style={{ backgroundColor: '#ff2f0a', color: 'white' }}>\n                          Submit\n                    </Button>\n                      </DialogActions>\n                    </div>\n                  </form>\n                )}\n            </Formik>\n          </DialogContent>\n        </Dialog>\n        : null}\n    </div>\n  )\n}\nexport default EditPaymentModal","import React, { useState } from 'react'\nimport { Card, CardContent, Typography, IconButton, CardActions } from '@material-ui/core';\nimport { AddBox, Edit } from '@material-ui/icons';\nimport AddPaymentModal from './AddPaymentModal';\nimport EditPaymentModal from './EditPaymentModal';\n\n\nconst AccountCards = ({ user }) => {\n\n  const paymentInfoArray = user.paymentInfoArray\n  const [openPaymentOnClick, setOpenPaymentOnClick] = useState(false)\n  const [editPaymentOnClick, setEditPaymentOnClick] = useState({\n    isOpen: false,\n    indexToEdit: null\n  })\n\n  const handleEditPaymentInfo = (addressIndex) => {\n    setEditPaymentOnClick({\n      isOpen: true,\n      indexToEdit: addressIndex\n    })\n  }\n  return (\n    <div className='account-sticky-head'>\n      <Typography variant='body1' style={{ textAlign: 'center', fontSize: 20, marginTop: 20 }}><strong>Credit/Debit Cards</strong></Typography>\n      <div className='accountDetailsDiv'>\n        {paymentInfoArray ? paymentInfoArray.map((a, i) =>\n          <Card key={a._id} className='accountDetailsCard' >\n            <CardContent style={{ paddingBottom: 0 }} >\n              <Typography variant='body1' color=\"textPrimary\">\n                {a.creditCardNameOnCard}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {a.creditCardType} {a.creditCardExpire}\n              </Typography >\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {a.creditCardNumber}\n              </Typography>\n              <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                {a.creditCardCVV}\n              </Typography>\n            </CardContent>\n            <CardActions style={{ display: 'block' }}>\n              <IconButton aria-label=\"edit address\" onClick={() => handleEditPaymentInfo(i)} style={{ color: 'rgb(221, 68, 68)', float: 'right', padding: 6, marginRight: 20, fontSize: 16 }}>\n                <Edit style={{ marginRight: 10, float: 'right' }} />Edit\n            </IconButton>\n            </CardActions>\n          </Card>\n        )\n          : null}\n        <div className='accountAddDiv'>\n          <IconButton aria-label=\"add an address\" style={{ fontSize: 16, color: 'darkgray' }} onClick={() => setOpenPaymentOnClick(true)}>\n            <AddBox style={{ fontSize: 30, marginRight: 10, color: 'darkgray' }} />Add Card\n      </IconButton>\n        </div>\n        <AddPaymentModal user={user} titleMessage={``} openPaymentOnClick={openPaymentOnClick} setOpenPaymentOnClick={setOpenPaymentOnClick} />\n        <EditPaymentModal user={user} titleMessage={``} editPaymentOnClick={editPaymentOnClick} setEditPaymentOnClick={setEditPaymentOnClick} />\n      </div>\n    </div>\n  )\n}\nexport default AccountCards","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid';\nimport AccountInfo from './AccountInfo';\nimport AccountAddresses from './AccountAddresses';\nimport AccountCards from './AccountCards';\n\nconst MainAccount = () => {\n\n  const user = useSelector(state => state.activeUser.user)\n\n  return (\n    <React.Fragment>\n      <Grid container spacing={2}>\n        <Grid item xs={12} sm={12} md={4} lg={4}>\n          <AccountInfo user={user} />\n        </Grid>\n        <Grid item xs={12} sm={12} md={4} lg={4}>\n          <AccountAddresses user={user} />\n        </Grid>\n        <Grid item xs={12} sm={12} md={4} lg={4}>\n          <div id='credit'>\n            <AccountCards user={user} />\n          </div>\n        </Grid>\n        {/* <Grid item xs={12} sm={6} md={6} lg={6}>\n          <Paper className={fixedHeightPaper}>\n\n          </Paper>\n        </Grid> */}\n      </Grid>\n    </React.Fragment>\n\n  )\n}\nexport default MainAccount","\nimport React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Popover from '@material-ui/core/Popover';\nimport Button from '@material-ui/core/Button';\nimport Promos from './Promos'\nimport Backdrop from '@material-ui/core/Backdrop';\n\nconst useStyles = makeStyles((theme) => ({\n  backdrop: {\n    zIndex: 1000,\n  },\n}));\n\nexport default function PeekPromo() {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [backdropOpen, setBackdropOpen] = useState(false)\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setBackdropOpen(!backdropOpen);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n    setBackdropOpen(false);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : undefined;\n\n  return (\n    <div>\n      <Button aria-describedby={id} onClick={handleClick} style={{ color: 'white', textTransform: 'none', fontSize: 11 }}>\n        Show Codes\n      </Button>\n      <Backdrop className={classes.backdrop} open={backdropOpen}>\n        <Popover\n          id={id}\n          open={open}\n          anchorEl={anchorEl}\n          onClose={handleClose}\n          anchorOrigin={{\n            vertical: 'bottom',\n            horizontal: 'center',\n          }}\n          transformOrigin={{\n            vertical: 'top',\n            horizontal: 'center',\n          }}\n        >\n\n          <Promos />\n\n        </Popover>\n      </Backdrop>\n    </div>\n  );\n}","import React, { useEffect, useRef, useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { CardContent, Typography, TextField, Button } from '@material-ui/core'\nimport { setActiveCartBilling } from '../reducers/activeUserReducer'\nimport Snackbar from '@material-ui/core/Snackbar'\nimport { Alert } from '@material-ui/lab'\nimport { formatPrice } from './MainOrderHistory'\nimport { withStyles } from '@material-ui/core/styles'\nimport { initPromos } from '../reducers/placesReducer'\nimport PeekPromo from './PeekPromo'\n\nconst CssTextField = withStyles({\n  root: {\n    '.MuiOutlinedInput-inputMarginDense': {\n      paddingTop: 10,\n      paddingBottom: 10,\n      color: 'white'\n    },\n    '& label.Mui-focused': {\n      color: 'black',\n    },\n    '& .MuiInput-underline:after': {\n      borderBottomColor: 'black',\n    },\n    '& .MuiOutlinedInput-root': {\n      '& fieldset': {\n        borderColor: 'black',\n      },\n      '&:hover fieldset': {\n        borderColor: 'gray',\n      },\n      '&.Mui-focused fieldset': {\n        borderColor: 'black',\n      },\n    },\n  },\n})(TextField);\n\nconst checkQualify = (user, qualifyingPromo, pizzaArray, beverageArray, totalPrice) => {\n  switch (qualifyingPromo) {\n    case 'RIPBRASI':\n      return pizzaArray.map(i => i.selectedRegularToppings.includes('anchovies') && i.selectedVariant === 'sicilian').includes(true)\n    case '1STORDER':\n      return user.orders.length === 0\n    case '23DRINKFREE':\n      return beverageArray.length > 0 && totalPrice >= 23\n    default:\n      break;\n  }\n}\n\nconst CartBilling = ({ pizza, bevs, user, totalPrice, setTotalPrice, activeCartBillingObject, codeEntered, setCodeEntered }) => {\n\n  const dispatch = useDispatch()\n  const promos = useSelector(state => state.placesReducer.promos ? state.placesReducer.promos : null)\n  const isMountedRef = useRef(null)\n\n  useEffect(() => {\n    isMountedRef.current = true\n    if (!promos) {\n      dispatch(initPromos())\n    }\n    return () => isMountedRef.current = false\n  }, [dispatch, promos])\n\n  const [notifyPromo, setNotifyPromo] = useState({\n    severity: '',\n    message: ''\n  })\n  const [successAppliedPromotion, setSuccessAppliedPromotions] = useState('')\n\n  const updateActiveCartOnEnterPromoCode = (newTotal) => {\n    let diff = (totalPrice - newTotal).toFixed(2)\n    dispatch(setActiveCartBilling(user._id, totalPrice, newTotal, diff, codeEntered))\n  }\n  const [openNotify, setOpenNotify] = useState(false);\n\n  const handleClose = () => {\n    setOpenNotify(false);\n  }\n\n  const checkPromo = (codeEntered) => {\n    //check to see if code entered matches promos codes\n    //returns array of boolean values: true=match, false=no match\n    let matched = promos.map(p => p.code === codeEntered ? p : false)\n\n    //check if boolean array includes a true value, if so, filter array to contain only the object with a matched code, else return 'invalid' notification\n    //if match, store the object in a local variable\n    let promoToApply\n    let filterFalsy = matched.filter(Boolean)\n    if (filterFalsy.length > 0) {\n      promoToApply = filterFalsy[0]\n    } else {\n      setOpenNotify(true)\n      setNotifyPromo({ severity: 'error', message: 'Invalid Code' })\n      setTimeout(() => {\n        setNotifyPromo('')\n      }, 5000);\n      return null\n    }\n\n\n    //if valid code, check to make sure cart items qualify for entered promotion\n    //if true, calculate new total accordingly, if false send 'order not qualified' notification\n    if (checkQualify(user, promoToApply.code, pizza, bevs, totalPrice)) {\n      if (!successAppliedPromotion) {\n        setOpenNotify(true)\n        setNotifyPromo({ severity: 'success', message: 'Success!' })\n        setTimeout(() => {\n          setNotifyPromo('')\n        }, 5000);\n        setSuccessAppliedPromotions(promoToApply.discount)\n        let newTotal\n        if (promoToApply['multiplier']) {\n          newTotal = (totalPrice * promoToApply.multiplier).toFixed(2)\n          setTotalPrice(prevTotalPrice => (prevTotalPrice * promoToApply.multiplier).toFixed(2))\n        }\n        if (promoToApply['credit']) {\n          newTotal = (totalPrice - promoToApply.credit).toFixed(2)\n          setTotalPrice(prevTotalPrice => (prevTotalPrice - promoToApply.credit).toFixed(2))\n        }\n        updateActiveCartOnEnterPromoCode(newTotal)\n      } else {\n        setOpenNotify(true)\n        setNotifyPromo({ severity: 'warning', message: 'You can only apply 1 promotion per order' })\n        setTimeout(() => {\n          setNotifyPromo('')\n        }, 5000);\n      }\n    } else {\n      setOpenNotify(true)\n      setNotifyPromo({ severity: 'error', message: 'Your order does not qualify for the promotion you entered' })\n      setTimeout(() => {\n        setNotifyPromo('')\n      }, 5000);\n    }\n  }\n\n  const handleChange = (e) => {\n    setCodeEntered(e.target.value)\n  }\n\n  return (\n    <div className='sticky-head'>\n      <Typography variant='body1' style={{ textAlign: 'center', fontSize: 16, marginTop: 20 }}><strong></strong></Typography>\n      <div className='cartDetailsDiv'>\n        <div className='cartDetailsCard'>\n          <CardContent style={{ padding: 10, paddingTop: 30 }}>\n            <Typography variant='body1'>\n              Total Due: ${activeCartBillingObject ? formatPrice(activeCartBillingObject.afterPromoPrice.toFixed(2)) : Number(formatPrice(totalPrice)).toFixed(2)}\n            </Typography>\n            <Typography variant='caption' style={{ listStyleType: 'none' }}>\n              {activeCartBillingObject ? `original price: $${formatPrice(activeCartBillingObject.beforePromoPrice.toFixed(2))}` : `original price: $${Number(formatPrice(totalPrice)).toFixed(2)}`}\n            </Typography><br />\n            <Typography variant='caption' style={{ listStyleType: 'none' }}>\n              {activeCartBillingObject ? `discount: $${formatPrice(activeCartBillingObject.priceDiff.toFixed(2))}` : `discount: no promotion applied`}\n            </Typography>\n          </CardContent>\n          <div style={{ height: 75, minWidth: 270, backgroundColor: 'white', borderRadius: 3, paddingTop: 10, overflowX: 'hidden', overflowY: 'hidden' }}>\n            <form>\n              <CssTextField\n                style={{ width: 180 }}\n                id=\"outlined-helperText\"\n                label=\"Promo Code\"\n                helperText='*case-sensitive'\n                variant=\"outlined\"\n                size='small'\n                value={codeEntered}\n                onChange={(e) => handleChange(e)}\n                disabled={activeCartBillingObject ? true : false}\n              />\n              <Button disabled={activeCartBillingObject ? true : false} onClick={() => checkPromo(codeEntered)} style={{ color: '#ff2f0a', lineHeight: 2 }} size='small'>\n                Apply\n          </Button>\n            </form>\n            <Snackbar open={openNotify} autoHideDuration={3000} onClose={handleClose}>\n              <Alert onClose={handleClose} severity={notifyPromo.severity}>\n                {notifyPromo.message}\n              </Alert>\n            </Snackbar>\n          </div>\n          <div style={{ backgroundColor: '#ff2f0a', marginTop: 'auto', height: 28, borderBottomRightRadius: 5, borderBottomLeftRadius: 5, color: 'white', fontSize: 12 }}>\n            <PeekPromo />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default CartBilling","import React from 'react'\nimport { Typography } from '@material-ui/core'\nimport quotes from '../pizzaquotes.json'\n\nconst getQuote = () => {\n  let random = Math.floor(Math.random() * 7)\n  let quoteObj = quotes[random]\n  return quoteObj\n}\n\nconst quoteToShow = getQuote()\n\nconst CartEmpty = () => (\n  <div style={{ display: 'inline-flex', height: '90%', width: '100%', margin: 'auto', justifyContent: 'center', alignItems: 'center' }}>\n    <Typography variant='body1' style={{ color: 'white', marginTop: 60 }}>\n      \"{quoteToShow.quote}\"<br />\n      -{quoteToShow.author}\n    </Typography>\n  </div>\n)\n\nexport default CartEmpty\n","\nimport React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { Link, useHistory } from 'react-router-dom'\nimport Card from '@material-ui/core/Card';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button'\nimport { addOrder, resetCart } from '../reducers/activeUserReducer'\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport { FormControl, FormControlLabel, FormLabel, RadioGroup, Radio, Typography, TextField, InputAdornment } from '@material-ui/core'\nimport CartEmpty from './CartEmpty';\nimport { AddBox } from '@material-ui/icons';\n\n\nconst CartRestaurant = ({ place, setTotalPrice, setCodeEntered }) => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const user = useSelector(state => state.activeUser.user)\n  const [cardTip, setCardTip] = useState(0)\n\n  let addresses\n  if (user.addresses.length > 0) {\n    addresses = user.addresses\n  } else {\n    addresses = []\n  }\n\n  let paymentInfoArray\n  if (user.paymentInfoArray.length > 0) {\n    paymentInfoArray = user.paymentInfoArray\n  } else {\n    paymentInfoArray = []\n  }\n\n  const [modalOrderOpen, setModalOrderOpen] = useState(false)\n  const [deliverTo, setDeliverTo] = useState(addresses.length > 0 ? addresses[0].locationName : [])\n  const [paymentChoice, setPaymentChoice] = useState('cash')\n\n  const handleModalOrderOpen = () => {\n    setModalOrderOpen(true)\n  }\n\n  const handleModalOrderClose = () => {\n    setModalOrderOpen(false)\n  }\n\n  const handleDeliverToChange = (e) => {\n    setDeliverTo(e.target.value)\n  }\n  const handlePaymentChange = (e) => {\n    setPaymentChoice(e.target.value)\n  }\n\n  const handleBackToPlaceClick = (place_id) => {\n    history.push(`/dashboard/restaurant/${place_id}`)\n  }\n  const clearCart = () => {\n    dispatch(resetCart(user._id))\n    setCodeEntered('')\n    setTotalPrice(0)\n  }\n  const submitOrder = () => {\n    dispatch(addOrder(user._id, cardTip, paymentChoice))\n    handleModalOrderClose()\n    setCodeEntered('')\n    setTotalPrice(0)\n    history.push('/dashboard/orders')\n  }\n  const handleTipChange = (e) => {\n    setCardTip(e.target.value)\n  }\n\n  return (\n    <div className='sticky-head'>\n      <Typography variant='body1' style={{ textAlign: 'center', fontSize: 16, marginTop: 20 }}><strong></strong></Typography>\n      <div className='placeDetailsDiv'>\n        {place !== undefined ?\n          <Card className='placeDetailsCard'>\n            <CardContent style={{ margin: 'auto' }}>\n              {!user.activeCartBilling ?\n                <div>\n                  <Button onClick={() => handleBackToPlaceClick(place._id)} style={{ textTransform: 'none', backgroundColor: '#575551', color: 'white', height: 60, marginTop: 16, fontWeight: 'bold' }} fullWidth>{`Add more items from ${place.name}`}</Button>\n                  <hr />\n                  <Button onClick={handleModalOrderOpen} style={{ textTransform: 'none', backgroundColor: '#ff430a', color: 'white', height: 60, fontWeight: 'bold' }} fullWidth>{`Place Order`}</Button>\n                </div>\n                :\n                <div>\n                  <Button onClick={() => clearCart()} style={{ textTransform: 'none', backgroundColor: '#575551', color: 'white', height: 60, marginTop: 16, fontWeight: 'bold' }} fullWidth>Reset Cart</Button>\n                  <hr />\n                  <Button onClick={handleModalOrderOpen} style={{ textTransform: 'none', backgroundColor: '#ff430a', color: 'white', height: 60, fontWeight: 'bold' }} fullWidth>{`Place Order`}</Button>\n                </div>}\n            </CardContent>\n          </Card>\n          : <CartEmpty />}\n      </div>\n      <Dialog open={modalOrderOpen} onClose={handleModalOrderClose} aria-labelledby=\"form-dialog-title\">\n        {/* <DialogTitle id=\"form-dialog-title\">Deliver to:</DialogTitle> */}\n        <DialogContent>\n          <FormControl component=\"fieldset\">\n            <FormLabel style={{ color: '#575551' }} component=\"legend\">Deliver To:</FormLabel>\n            <RadioGroup aria-label=\"addresses\" name=\"addresses\" value={deliverTo} onChange={handleDeliverToChange}>\n              {addresses.length > 0 ? addresses.map(p =>\n                <FormControlLabel key={p.locationName} value={p.locationName} control={<Radio required={true} style={{ color: '#575551' }} />} label={p.locationName} />\n              )\n                : 'Add an address then come back'}\n            </RadioGroup>\n\n            <div id='spacer' style={{ height: 20, width: '100%' }}></div>\n\n            <RadioGroup aria-label=\"payment\" name=\"payment\" value={paymentChoice} onChange={handlePaymentChange}>\n              <FormLabel style={{ color: '#575551' }} component=\"legend\">Payment Method:</FormLabel>\n              <FormControlLabel key={'cash'} value={'cash'} control={<Radio required={true} style={{ color: '#575551' }} />} label={'Cash on Delivery'} />\n              {paymentInfoArray.length > 0 ? paymentInfoArray.map(p =>\n                <FormControlLabel key={p._id} value={p._id} control={<Radio required={true} style={{ color: '#575551' }} />} label={`${p.creditCardType.toUpperCase()} #: ${p.creditCardNumber} Cardholder: ${p.creditCardNameOnCard}`} />\n              )\n                : <Link style={{ color: '#575551', textDecoration: 'none', fontSize: 12 }} to='/dashboard/account'><AddBox style={{ fontSize: 20, marginRight: 10, color: '#ff2f0a' }} />Add a credit/debit card</Link>}\n            </RadioGroup>\n\n            <div id='spacer' style={{ height: 20, width: '100%' }}></div>\n\n            {paymentChoice !== 'cash' &&\n              <TextField style={{ backgroundColor: 'white', marginBottom: 8 }} type='number' variant='outlined' label=\"Add a tip for the driver?\" size='small' value={cardTip} onChange={handleTipChange} InputProps={{\n                startAdornment: <InputAdornment position=\"start\">$</InputAdornment>,\n              }} />\n            }\n          </FormControl>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleModalOrderClose} color=\"default\">\n            Cancel\n          </Button>\n          <Button onClick={submitOrder} variant='contained' style={{ backgroundColor: '#ff2f0a', color: 'white' }} disabled={addresses.length === 0}>\n            Submit\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  )\n}\n\nexport default CartRestaurant","import React, { useState, useRef } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { Button, Grow, Typography } from '@material-ui/core'\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent'\nimport IconButton from '@material-ui/core/IconButton';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport CartBilling from './CartBilling';\nimport CartRestaurant from './CartRestaurant';\nimport { removeCart } from '../reducers/activeUserReducer';\nimport { formatPrice } from './MainOrderHistory'\nimport { ChevronLeft, ChevronRight } from '@material-ui/icons';\n\nconst useStyles = makeStyles((theme) => ({\n\n  cardStyle: {\n    display: 'flex',\n    flexDirection: 'column',\n    height: 240,\n    maxWidth: 240,\n    minWidth: 200,\n    width: 'auto',\n    margin: 'auto',\n    paddingBottom: 0\n  },\n  cardHeader: {\n    textTransform: 'capitalize',\n    maxHeight: 50,\n    minHeight: 50,\n    margin: 'auto'\n\n  },\n  cardActions: {\n    justifyContent: 'center',\n    marginTop: 'auto',\n    height: 'auto',\n    maxHeight: 30,\n    minHeight: 30,\n    backgroundColor: '#ff430a',\n    paddingTop: 10\n  },\n  priceText: {\n    fontStyle: 'bold',\n    padding: 5\n  }\n}))\n\nconst getTotalPrice = (itemArray1, itemArray2) => {\n  let pizzaTotal = itemArray1.reduce((a, b) => a + b.totalPrice, 0)\n  let beveragesTotal = itemArray2.reduce((a, b) => a + b.totalPrice, 0)\n  let t = pizzaTotal + beveragesTotal\n  return t\n}\n\nconst MainCart = () => {\n\n  const classes = useStyles();\n  const user = useSelector(state => state.activeUser.user)\n  const dispatch = useDispatch()\n  const activeCartBillingObject = user.activeCartBilling\n  const [codeEntered, setCodeEntered] = useState(activeCartBillingObject ? activeCartBillingObject.promoApplied : '')\n  let cart = user.cart\n  let bevs = cart.filter(c => c.itemType === 'beverages')\n  let pizza = cart.filter(c => c.itemType === 'pizza')\n  const [totalPrice, setTotalPrice] = useState(getTotalPrice(pizza, bevs))\n  const scrollRef = useRef(null);\n\n\n  //place prop passed to CartRestaurant to avoid unnecessarily refetching from google api\n  let place\n  if (pizza.length > 0) {\n    place = {\n      _id: pizza[0].restaurantId,\n      name: pizza[0].restaurantName\n    }\n  } else if (bevs.length > 0) {\n    place = {\n      _id: bevs[0].restaurantId,\n      name: bevs[0].restaurantName\n    }\n  }\n\n  const removeFromCart = (item_id) => {\n    cart = cart.filter(c => c._id !== item_id)\n    bevs = cart.filter(c => c.itemType === 'beverages')\n    pizza = cart.filter(c => c.itemType === 'pizza')\n    setTotalPrice(getTotalPrice(pizza, bevs))\n    try {\n      dispatch(removeCart(user._id, item_id))\n    } catch (error) {\n      console.log(error)\n    }\n  }\n  const scroll = (scrollOffset) => {\n    scrollRef.current.scrollLeft += scrollOffset;\n  }\n\n  return (\n    <React.Fragment>\n      <Grid container direction='row' justify='space-evenly' spacing={2}>\n        <Grid item xs={12} sm={6} md={6} lg={6}>\n          <CartRestaurant place={place} setTotalPrice={setTotalPrice} setCodeEntered={setCodeEntered} />\n        </Grid>\n        <Grid item xs={12} sm={6} md={6} lg={6}>\n          <CartBilling pizza={pizza} bevs={bevs} user={user} totalPrice={totalPrice} setTotalPrice={setTotalPrice} activeCartBillingObject={activeCartBillingObject} codeEntered={codeEntered} setCodeEntered={setCodeEntered} />\n        </Grid>\n        <Grid item xs={12} sm={12} md={12} lg={12}>\n          <div>\n            {pizza.length > 0 || bevs.length > 0 ?\n              <Typography variant='h5' style={{ textAlign: 'center', fontSize: 20, marginTop: 20, color: 'white', marginBottom: 28 }}><strong>Items</strong></Typography>\n              : null}\n          </div>\n          <div className='outerDashDiv'>\n            {pizza.length > 0 || bevs.length > 0 ?\n              <Button className='btn' onClick={() => scroll(-400)}>\n                <ChevronLeft style={{ fontSize: 50 }} />\n              </Button>\n              : null}\n            <div className='dashDiv' ref={scrollRef} >\n              {pizza.map(c =>\n                <Grow key={c._id} in={pizza.length > 0}>\n                  <Card className={classes.cardStyle}>\n                    <CardHeader className={classes.cardHeader} titleTypographyProps={{ variant: 'h6' }} title={`${c.selectedVariant} ${c.itemType}`} subheader={`size: ${c.selectedSize}`} />\n                    <CardContent style={{ listStyleType: 'none', paddingTop: 0, height: 'auto', overflow: 'auto', margin: 'auto' }}>\n                      <Typography variant='caption'>\n                        {c.selectedRegularToppings.length + c.selectedPremiumToppings.length === 0 ?\n                          'No toppings' : null}\n                      </Typography>\n                      <Typography variant='caption' >\n                        {c.selectedRegularToppings.map(t => <li key={t}>{t}</li>)}\n                        {c.selectedPremiumToppings.map(t => <li key={t}>{t}</li>)}\n                      </Typography>\n                      <br />\n                    </CardContent>\n                    <div style={{ display: 'block', textAlign: 'center' }}>\n                      <Typography className={classes.priceText}>\n                        <strong>${formatPrice(c.totalPrice)}</strong> <small style={{ fontSize: 9 }}>incuding tax</small>\n                      </Typography>\n                      <CardActions className={classes.cardActions}>\n                        {!activeCartBillingObject ?\n                          <IconButton aria-label=\"remove from cart\" onClick={() => removeFromCart(c._id, c.totalPrice)} disabled={activeCartBillingObject ? true : false}>\n                            <ClearIcon style={{ color: 'white', fontSize: 25, marginTop: 4 }} />\n                          </IconButton>\n                          : <Typography variant='caption' style={{ color: 'white', margin: 'auto' }}>*promo applied</Typography>\n                        }\n                      </CardActions>\n                    </div>\n                  </Card>\n                </Grow>\n              )}\n              {bevs.map(b =>\n                <Grow key={b._id} in={bevs.length > 0}>\n                  <Card className={classes.cardStyle}>\n                    <CardHeader className={classes.cardHeader} titleTypographyProps={{ variant: 'h6' }} title={`${b.selectedBeverages[0]}`} subheader='size: 20oz' style={{ textTransform: 'capitalize' }} />\n                    <CardContent style={{ listStyleType: 'none', paddingTop: 0, height: '35%', overflow: 'auto' }}>\n                    </CardContent>\n                    <div style={{ display: 'block', textAlign: 'center' }}>\n                      <Typography className={classes.priceText} >\n                        <strong>${formatPrice(b.totalPrice)}</strong> <small style={{ fontSize: 9 }}>including tax</small>\n                      </Typography>\n                      <CardActions className={classes.cardActions}>\n                        {!activeCartBillingObject ?\n                          <IconButton aria-label=\"remove from cart\" onClick={() => removeFromCart(b._id)}>\n                            <ClearIcon style={{ color: 'white', fontSize: 25, marginTop: 4 }} />\n                          </IconButton>\n                          : <Typography variant='caption' style={{ color: 'white', margin: 'auto' }}>*promo applied</Typography>}\n                      </CardActions>\n                    </div>\n                  </Card>\n                </Grow>\n              )}\n            </div>\n            {pizza.length > 0 || bevs.length > 0 ?\n              <Button className='btn' onClick={() => scroll(400)}>\n                <ChevronRight style={{ fontSize: 50 }} />\n              </Button>\n              : null}\n          </div>\n        </Grid>\n      </Grid>\n    </React.Fragment >\n  )\n\n}\nexport default MainCart","import { createStore, combineReducers, applyMiddleware, compose } from 'redux'\nimport { persistStore, persistReducer } from 'redux-persist'\nimport storage from 'redux-persist/lib/storage'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport activeUserReducer from './reducers/activeUserReducer'\nimport placesReducer from './reducers/placesReducer'\n// import userInfoForAdminReducer from './reducers/userInfoForAdminReducer'\n\n\nconst appReducer = combineReducers({\n  activeUser: activeUserReducer,\n  placesReducer: placesReducer\n})\nconst rootReducer = (state, action) => {\n  if (action.type === 'USER_LOGOUT') {\n    state = undefined\n  }\n  return appReducer(state, action)\n}\n\nconst persistConfig = {\n  key: 'root',\n  storage\n}\nconst persistedReducer = persistReducer(persistConfig, rootReducer)\n\nlet tempStore\nif (process.env.NODE_ENV === 'production') {\n  tempStore = createStore(persistedReducer, compose(applyMiddleware(thunk)))\n} else {\n  tempStore = createStore(persistedReducer, composeWithDevTools(applyMiddleware(thunk)))\n}\n\nexport const store = tempStore\n\nexport const persistor = persistStore(store)","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Paper from '@material-ui/core/Paper';\nimport Grid from '@material-ui/core/Grid';\nimport { Link, TextField } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faGoogle } from '@fortawesome/free-brands-svg-icons'\nimport pizzapizza from '../assets/pizzapizza100.png'\nimport pizzaBackground from '../assets/pizzapizzalarge.jpg'\nimport { isAuthenticated, signIn } from '../reducers/activeUserReducer'\nimport { Formik } from 'formik'\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { Alert } from '@material-ui/lab'\nimport { closeNotify } from '../reducers/activeUserReducer'\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n  },\n  image: {\n    backgroundImage: `url(${pizzaBackground})`,\n    backgroundRepeat: 'no-repeat',\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '96%', // Fix IE 11 issue.\n    marginTop: theme.spacing(2),\n  },\n  submit: {\n    margin: theme.spacing(2, 0, 2),\n    width: '96%'\n  },\n}));\n\nexport default function LandingPage() {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const notify = useSelector(state => state.activeUser.notify)\n\n  useEffect(() => {\n    dispatch(isAuthenticated())\n  }, [dispatch])\n\n  const authWithGoogle = () => {\n    // window.open(\"http://localhost:3001/auth/google\", \"_self\");\n    window.open(\"https://pizzapizzadelivery.herokuapp.com/auth/google\", \"_self\");\n  }\n\n  return (\n    <Grid container component=\"main\" className={classes.root}>\n      <CssBaseline />\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\n        <div className={classes.paper}>\n          <img src={pizzapizza} alt='pizza big' />\n          <form className={classes.form} noValidate>\n            <Button\n              onClick={authWithGoogle}\n              variant=\"contained\"\n              className={classes.submit}\n              style={{ backgroundColor: '#ff2f0a', color: 'white', height: 60, width: '100%' }}\n            >\n              <FontAwesomeIcon icon={faGoogle} style={{ fontSize: 30, marginRight: 20, color: 'white' }} />Continue with Google\n            </Button>\n          </form>\n\n          <div className=\"separator\"> or </div>\n          <br />\n\n\n          <Formik\n            initialValues={{\n              email: '',\n              password: '',\n            }}\n            validate={values => {\n              const errors = {};\n              if (!values.email) {\n                errors.email = 'Required'\n              }\n              else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n                errors.email = 'Invalid email address'\n              }\n              else if (!values.password) {\n                errors.password = 'Required'\n              }\n              else if (!/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/i.test(values.password)) {\n                errors.password = 'Password must be at least 8 characters long, include an uppercase, a lowercase, and a number'\n              }\n\n              return errors;\n            }}\n            onSubmit={async (values, { setSubmitting, resetForm }) => {\n              setSubmitting(true)\n              dispatch(signIn({\n                email: values.email,\n                password: values.password\n              }))\n            }}\n          >\n            {({\n              values,\n              errors,\n              touched,\n              handleChange,\n              handleBlur,\n              handleSubmit,\n              isSubmitting,\n            }) => (\n                <form style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-evenly' }} onSubmit={handleSubmit}>\n                  <TextField\n                    type=\"text\"\n                    label='Email'\n                    name=\"email\"\n                    fullWidth\n                    variant='outlined'\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    value={values.email}\n                    error={errors.email && touched.email ? true : false}\n                    helperText={errors.email && touched.email && errors.email}\n                    style={{ margin: 10 }}\n                  />\n                  <TextField\n                    type=\"password\"\n                    label='Password'\n                    name=\"password\"\n                    fullWidth\n                    variant='outlined'\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    value={values.password}\n                    error={errors.password && touched.password ? true : false}\n                    helperText={errors.password && touched.password && errors.password}\n                    style={{ margin: 10 }}\n                  />\n                  <Button\n                    type=\"submit\"\n                    variant=\"contained\"\n                    color=\"default\"\n                    className={classes.submit}\n                  >\n                    Sign In\n          </Button>\n                  <Grid container justify=\"center\">\n                    <Grid item>\n                      <Link href=\"/signup\" variant=\"body2\" style={{ color: '#ff2f0a' }}>\n                        Don't have an account? Sign Up\n              </Link>\n                    </Grid>\n                  </Grid>\n                </form>\n              )}\n          </Formik>\n        </div>\n        <Snackbar\n          open={notify && notify.open}\n          autoHideDuration={2000}\n          onClose={() => dispatch(closeNotify())}>\n          {notify && notify.open ?\n            <Alert severity={notify.severity} style={notify.severity === 'success' ? { backgroundColor: '#b7e89e', border: 'solid', borderColor: 'green', width: 260 } : { backgroundColor: 'lightgrey', border: 'solid', borderColor: 'red', width: 260 }} >\n              {notify.message}\n            </Alert>\n            : null}\n        </Snackbar>\n      </Grid>\n    </Grid>\n  );\n}","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux'\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport pizzapizza from '../assets/pizzapizza100.png'\nimport { Formik } from 'formik'\nimport { register } from '../reducers/activeUserReducer'\nimport { Redirect } from 'react-router-dom'\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { Alert } from '@material-ui/lab'\nimport { closeNotify } from '../reducers/activeUserReducer'\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    width: '95%'\n  },\n}));\n\n\nexport default function SignUp() {\n  const classes = useStyles();\n  const dispatch = useDispatch()\n  const redirectTo = useSelector(state => state.activeUser.redirectTo)\n  const notify = useSelector(state => state.activeUser.notify)\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <img alt='pizza' src={pizzapizza}></img>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <Formik\n          initialValues={{\n            firstName: '',\n            lastName: '',\n            email: '',\n            password: '',\n          }}\n          validate={values => {\n            const errors = {};\n            if (!values.firstName) {\n              errors.firstName = 'Required'\n            }\n            else if (!values.lastName) {\n              errors.lastName = 'Required'\n            }\n            else if (!values.email) {\n              errors.email = 'Required'\n            }\n            else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)) {\n              errors.email = 'Invalid email address'\n            }\n            else if (!values.password) {\n              errors.password = 'Required'\n            }\n            else if (!/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9]).{8,}$/i.test(values.password)) {\n              errors.password = 'Password must be at least 8 characters long, include an uppercase, a lowercase, and a number'\n            }\n            return errors;\n          }}\n          onSubmit={async (values, { setSubmitting, resetForm }) => {\n            setSubmitting(true)\n            dispatch(register({\n              firstName: values.firstName,\n              lastName: values.lastName,\n              email: values.email,\n              password: values.password\n            }))\n\n          }}\n        >\n          {({\n            values,\n            errors,\n            touched,\n            handleChange,\n            handleBlur,\n            handleSubmit,\n            isSubmitting,\n          }) => (\n              <form style={{ display: 'flex', flexWrap: 'wrap', justifyContent: 'space-evenly' }} onSubmit={handleSubmit}>\n                <TextField\n                  type=\"text\"\n                  label='First Name'\n                  name=\"firstName\"\n                  fullWidth\n                  variant='outlined'\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  value={values.firstName}\n                  error={errors.firstName && touched.firstName ? true : false}\n                  helperText={errors.firstName && touched.firstName && errors.firstName}\n                  style={{ margin: 10 }}\n                />\n                <TextField\n                  type=\"text\"\n                  label='Last Name'\n                  name=\"lastName\"\n                  fullWidth\n                  variant='outlined'\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  value={values.lastName}\n                  error={errors.lastName && touched.lastName ? true : false}\n                  helperText={errors.lastName && touched.lastName && errors.lastName}\n                  style={{ margin: 10 }}\n                />\n\n                <TextField\n                  type=\"text\"\n                  label='Email'\n                  name=\"email\"\n                  fullWidth\n                  variant='outlined'\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  value={values.email}\n                  error={errors.email && touched.email ? true : false}\n                  helperText={errors.email && touched.email && errors.email}\n                  style={{ margin: 10 }}\n                />\n                <TextField\n                  type=\"password\"\n                  label='Password'\n                  name=\"password\"\n                  fullWidth\n                  variant='outlined'\n                  onChange={handleChange}\n                  onBlur={handleBlur}\n                  value={values.password}\n                  error={errors.password && touched.password ? true : false}\n                  helperText={errors.password && touched.password && errors.password}\n                  style={{ margin: 10 }}\n                />\n                <Button\n                  type=\"submit\"\n                  variant=\"contained\"\n                  color=\"default\"\n                  className={classes.submit}\n                >\n                  Sign Up\n          </Button>\n                { redirectTo === '/' ? <Redirect to={redirectTo} /> : null}\n                <Grid container justify=\"center\">\n                  <Grid item>\n                    <Link href=\"/\" variant=\"body2\" style={{ color: '#ff2f0a' }}>\n                      Already have an account? Sign in\n              </Link>\n                  </Grid>\n                </Grid>\n              </form>\n            )}\n        </Formik>\n        <Snackbar\n          open={notify && notify.open}\n          autoHideDuration={2000}\n          onClose={() => dispatch(closeNotify())}>\n          {notify && notify.open ?\n            <Alert severity={notify.severity} style={notify.severity === 'success' ? { backgroundColor: '#b7e89e', border: 'solid', borderColor: 'green', width: 260 } : { backgroundColor: 'lightgrey', border: 'solid', borderColor: 'red', width: 260 }} >\n              {notify.message}\n            </Alert>\n            : null}\n        </Snackbar>\n      </div>\n    </Container >\n  );\n}","import React from 'react';\nimport { useSelector } from 'react-redux'\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport LandingPage from './pages/LandingPage';\nimport DashMui from './pages/DashMui'\nimport SignUp from './pages/SignUp'\n\nfunction App() {\n\n  const user = useSelector(state => state.activeUser.user)\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Switch>\n          <Route path='/signup' component={SignUp} />\n          <Route path='/dashboard'>\n            {!user ? <Redirect to='/' />\n              :\n              <div>\n                <DashMui user={user} />\n              </div>\n            }\n          </Route>\n          <Route exact path='/'>\n            {user ? <Redirect to='/dashboard' />\n              :\n              <LandingPage />\n            }\n          </Route>\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\nimport { store } from './store'\nimport { persistor } from './store'\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './App';\nimport './styles.css'\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>\n  ,\n  document.getElementById('root')\n);\n","import { postRequestAddRestaurant, getPlaceDetailsRequest, loadMenu, loadPromos } from \"../services/dataService\"\n\nconst initialState = {\n  nearbyPlaces: undefined,\n  homeGPS: undefined,\n  placeDetails: undefined,\n  menu: undefined,\n  promos: undefined,\n  loading: false,\n  geoActive: false,\n  notify: { open: false, severity: '', message: '' }\n}\n\nconst placesReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'CLEAR_PLACES':\n      return initialState\n    case 'SET_LOADING':\n      return { ...state, loading: action.data }\n    case 'CLEAR_LOADING':\n      return { ...state, loading: action.data }\n    case 'GEO_ACTIVE':\n      return { ...state, geoActive: action.data }\n    case 'SET_HOME_GPS':\n      return { ...state, homeGPS: action.data }\n    case 'SET_PLACES':\n      return { ...state, nearbyPlaces: action.data }\n    case 'GET_PLACE_DETAILS':\n      return { ...state, placeDetails: action.data }\n    case 'REQUEST_ADD_RESTAURANT':\n      return state\n    case 'INIT_MENU':\n      return { ...state, menu: action.data }\n    case 'INIT_PROMOS':\n      return { ...state, promos: action.data }\n    case 'NOTIFY':\n      return { ...state, notify: action.data }\n    default:\n      return state\n  }\n}\nexport const setPlaces = (places) => {\n  return {\n    type: 'SET_PLACES',\n    data: places\n  }\n}\n\nexport const clearPlaces = () => {\n  return {\n    type: 'USER_LOGOUT',\n    data: null\n  }\n}\nexport const setLoading = () => {\n  return {\n    type: 'SET_LOADING',\n    data: true\n  }\n}\nexport const clearLoading = () => {\n  return {\n    type: 'CLEAR_LOADING',\n    data: false\n  }\n}\nexport const geoActive = (bool) => {\n  return {\n    type: 'GEO_ACTIVE',\n    data: bool\n  }\n}\nexport const setHomeGPS = (lat, lon) => {\n  return {\n    type: 'SET_HOME_GPS',\n    data: { lat: lat, lon: lon }\n  }\n}\nexport const requestAddRestaurant = (name, lat, lon) => {\n  return async dispatch => {\n    dispatch(setLoading())\n    try {\n      await postRequestAddRestaurant(name, lat, lon)\n      dispatch({\n        type: 'REQUEST_ADD_RESTAURANT',\n        data: null\n      })\n      dispatch(clearLoading())\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'success', message: 'Submitted' }\n      })\n    } catch (error) {\n      console.log(error)\n      dispatch(clearLoading())\n      dispatch({\n        type: 'NOTIFY',\n        data: { open: true, severity: 'error', message: 'Something went wrong...' }\n      })\n    }\n  }\n}\nexport const getPlaceDetails = (place_id) => {\n  return async dispatch => {\n    try {\n      let res = await getPlaceDetailsRequest(place_id)\n      dispatch({\n        type: 'GET_PLACE_DETAILS',\n        data: res.result\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\nexport const initMenu = () => {\n  return async dispatch => {\n    try {\n      let res = await loadMenu()\n      dispatch({\n        type: 'INIT_MENU',\n        data: res\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\nexport const initPromos = () => {\n  return async dispatch => {\n    try {\n      let res = await loadPromos()\n      dispatch({\n        type: 'INIT_PROMOS',\n        data: res\n      })\n    } catch (error) {\n      console.log(error)\n    }\n  }\n}\n\nexport default placesReducer","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport { Typography, Grow } from '@material-ui/core'\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent'\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  cardStyle: {\n    display: 'block',\n    height: 'auto',\n    width: '90%',\n    margin: 'auto'\n  },\n  cardHeader: {\n    paddingTop: 10,\n    paddingBottom: 10,\n    textTransform: 'capitalize',\n    marginTop: 10,\n    height: 80\n  },\n  cardActions: {\n    justifyContent: 'center',\n    margin: 'auto',\n    height: 35,\n    backgroundColor: 'black',\n  },\n  priceText: {\n    backgroundColor: '#575551',\n    color: 'white'\n  }\n}))\n\nconst getProgress = (date) => {\n  const startMilli = new Date(date).getTime()\n  const endMilli = startMilli + (60000 * 30)\n  const currentMilli = Date.now()\n  if (currentMilli > endMilli) {\n    return 'Completed'\n  } else {\n    let minutesLeft = (Math.floor((endMilli - currentMilli) / 60000))\n    let minutesElapsed = (30 - minutesLeft)\n    let percentageComplete = Math.round((minutesElapsed / 30) * 100)\n    return percentageComplete\n  }\n}\nexport const formatPrice = (number) => {\n  let split = number.toString().split(/\\./)\n  if (split[split.length - 1].length === 1) {\n    split[split.length - 1] = split[split.length - 1] + '0'\n  } else if (split[split.length - 1].length > 2) {\n    split[split.length - 1] = split[split.length - 1].slice(0, 2)\n  }\n  return split.join('.')\n}\n\n\nconst MainOrderHistory = () => {\n\n  const classes = useStyles();\n  const user = useSelector(state => state.activeUser.user)\n  // eslint-disable-next-line no-unused-vars\n  const [progress, setProgress] = useState(0);\n\n  const progMessage = (prog) => {\n    if (prog < 20) {\n      return 'Preparing your order'\n    } else if (prog < 60) {\n      return 'It\\'s a\\'cookin!'\n    } else if (prog < 70) {\n      return 'Adding the finishing touches'\n    } else if (prog < 87) {\n      return 'Our driver picked up your order'\n    } else if (prog < 99) {\n      return 'Your order will be arriving any minute now'\n    }\n  }\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setProgress((oldProgress) => {\n        if (oldProgress === 100) {\n          return 0;\n        }\n        const diff = Math.random() * 10;\n        return Math.min(oldProgress + diff, 100);\n      });\n    }, 500);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n  return (\n    <React.Fragment>\n      <Grid container spacing={2}>\n        {/* <Grid item xs={12} sm={6} md={8} lg={8}>\n\n        </Grid>\n        <Grid item xs={12} sm={6} md={4} lg={4}>\n\n        </Grid> */}\n        <Grid item xs={12} sm={12} md={12} lg={12}>\n          <Grid container spacing={2}>\n            {user.orders.sort((a, b) => new Date(b.date) - new Date(a.date)).map(o =>\n              <Grow key={o._id} in={true}>\n                <Grid item xs={12} sm={6} md={3} lg={3}>\n                  <Card className={classes.cardStyle}>\n                    <CardHeader className={classes.cardHeader} titleTypographyProps={{ variant: 'subtitle1' }} title={`${o.cart[0].restaurantName}`} subheader={getProgress(o.date) === 'Completed' ? new Date(o.date).toString().slice(0, 25) : <LinearProgress variant=\"determinate\" value={getProgress(o.date)} />} />\n                    <CardContent style={{ listStyleType: 'none', paddingTop: 0, height: 180, overflow: 'auto' }}>\n                      <Typography variant='caption'>\n                        {getProgress(o.date) !== 'Completed' ? <em>{progMessage(getProgress(o.date))}</em> : null}\n                        {getProgress(o.date) !== 'Completed' ? <hr /> : null}\n                      </Typography>\n                      <Typography variant='subtitle2' style={{ height: 20 }}>\n                        <div style={{ float: 'left' }}>\n                          {`${getProgress(o.date) === 'Completed' ? 'Delivered' : getProgress(o.date) + '%'}`}\n                        </div>\n                        <div style={{ float: 'right' }}>\n                          {`ID: ${o.confirmation}`}\n                        </div>\n                      </Typography>\n                      <hr />\n                      {o.cart.map(c =>\n                        <div key={c._id} style={{ display: 'flex', flexDirection: 'row', flexWrap: 'wrap' }}>\n                          <li style={{ fontStyle: 'italic' }}>\n                            {c.selectedVariant ? c.selectedVariant + ' pizza ' : null}\n                          </li>\n                          <div style={{ display: 'block' }}>\n                            <Typography variant='caption'>\n                              <small> {c.selectedRegularToppings.map(t => <span key={t}>&nbsp;{t}&nbsp;</span>)}\n                                {c.selectedPremiumToppings.map(t => <span key={t}> &nbsp;{t} &nbsp;</span>)}</small>\n                            </Typography>\n                          </div>\n                          {c.itemType === 'beverages' ? c.selectedBeverages.map(b => <li key={b} style={{ display: 'inline-flex' }}>\n                            {b} &nbsp;\n                          </li>)\n                            : null}\n                        </div>\n                      )}\n                    </CardContent>\n                    <div style={{ textAlign: 'center', height: '50px', lineHeight: 4, backgroundColor: '#ff2f0a', color: 'white' }}>\n                      {o.activeCartBilling ? `Total: $${formatPrice((o.activeCartBilling.afterPromoPrice + o.creditCardTip))} ` : `Total: $${formatPrice(o.cart.reduce((a, b) => a + b.totalPrice, o.creditCardTip))}`}\n                    </div>\n                  </Card>\n                </Grid>\n              </Grow>\n            )}\n          </Grid>\n        </Grid>\n      </Grid>\n    </React.Fragment >\n  )\n\n}\nexport default MainOrderHistory","import axios from 'axios'\n\n//development\n// const baseUrl = 'http://localhost:3001/api'\n\n//production\nconst baseUrl = 'https://pizzapizzadelivery.herokuapp.com/api'\n\nexport const getByCoordinates = async (lat, lon) => {\n  console.log('getbycoord running')\n  const response = await axios.post(`${baseUrl}/searchByCoordinates`, {\n    lat: lat,\n    lon: lon\n  })\n  return response.data\n}\n\nexport const getSearchPredictions = async (search) => {\n  const response = await axios.post(`${baseUrl}/autoSearchPredictions`, {\n    search: search\n  })\n  return response.data\n}\n\nexport const getTextSearch = async (search) => {\n  const response = await axios.post(`${baseUrl}/textSearch`, {\n    search: search\n  })\n  return response.data\n}\n\nexport const postRequestAddRestaurant = async (name, lat, lon) => {\n  const response = await axios.post(`${baseUrl}/requestNewRestaurant`, {\n    name: name,\n    lat: lat,\n    lon: lon\n  })\n  return response.data\n\n}\nexport const getPlaceDetailsRequest = async (place_id) => {\n  const response = await axios.post(`${baseUrl}/placeDetails`, {\n    place_id: place_id\n  })\n  return response.data\n}\nexport const loadMenu = async () => {\n  const response = await axios.get(`${baseUrl}/menuItems`)\n  return response.data\n}\nexport const loadPromos = async () => {\n  const response = await axios.get(`${baseUrl}/promos`)\n  return response.data\n}","module.exports = __webpack_public_path__ + \"static/media/pizzapizza100.12f68f7a.png\";"],"sourceRoot":""}