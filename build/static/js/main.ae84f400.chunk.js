(this.webpackJsonppizzapizza=this.webpackJsonppizzapizza||[]).push([[0],{124:function(e,t,a){e.exports=a.p+"static/media/pizzapizza200.4b76ae42.png"},125:function(e,t,a){e.exports=a.p+"static/media/pizzapizzalarge.f5dbe4dc.jpg"},133:function(e,t,a){e.exports=a.p+"static/media/pizzapizza50trans.56fbddd8.png"},138:function(e,t,a){e.exports=a.p+"static/media/stockmap.8af967d7.jpg"},159:function(e,t,a){e.exports=a(192)},191:function(e,t,a){},192:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),l=a.n(c),o=a(8),i=a(39),s=a(96),u=a(120),m=a.n(u),d=a(121),p=a(122),f=a(6),g=a.n(f),h=a(9),E=a(12),y=a(19),b=a.n(y),v="https://pizzapizzadelivery.herokuapp.com/api",x={getUser:function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(v),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUserFromDash:function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(v,"/authhelpers/login/success"),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logoutUser:function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(v,"/authhelpers/logout"),{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),addFavoriteRestaurant:function(){var e=Object(h.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(v,"/account/favorite"),{user_id:a,place_id:t},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),removeFavoriteRestaurant:function(){var e=Object(h.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(v,"/account/removefavorite"),{user_id:a,place_id:t},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),addPizzaToCart:function(){var e=Object(h.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(v,"/account/addPizza"),{user_id:t,item:a},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),addBeveragesToCart:function(){var e=Object(h.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(v,"/account/addBeverages"),{user_id:t,item:a},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),removeItemFromCart:function(){var e=Object(h.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(v,"/account/removeCart"),{user_id:t,item_id:a},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updateActiveCartBilling:function(){var e=Object(h.a)(g.a.mark((function e(t,a,n,r,c){var l;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(v,"/account/updateActiveCartBilling"),{user_id:t,totalPrice:a,newTotal:n,diff:r,promoApplied:c},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return l=e.sent,console.log(l.data),e.abrupt("return",l.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a,n,r,c){return e.apply(this,arguments)}}(),clearCart:function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(v,"/account/clearCart"),{user_id:t},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addNewOrder:function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(v,"/account/addNewOrder"),{user_id:t},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addNewAddress:function(){var e=Object(h.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(v,"/account/addNewAddress"),{user_id:t,addressObject:a},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),editExistingAddress:function(){var e=Object(h.a)(g.a.mark((function e(t,a,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.put("".concat(v,"/account/editAddress"),{user_id:t,indexToEdit:a,addressObject:n},{withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},O={user:void 0},j=function(e,t){return function(){var a=Object(h.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.addNewAddress(e,t);case 3:r=a.sent,n({type:"ADD_ADDRESS",data:r}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},C=function(e,t,a){return function(){var n=Object(h.a)(g.a.mark((function n(r){var c;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,x.editExistingAddress(e,t,a);case 3:c=n.sent,r({type:"EDIT_ADDRESS",data:c}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGOUT":return O;case"GET_USER":case"ADD_FAVORITE":case"REMOVE_FAVORITE":case"ADD_PIZZA_TO_CART":case"ADD_BEVERAGES_TO_CART":case"REMOVE_CART":case"SET_ACTIVE_CART_BILLING":case"RESET_CART":case"ADD_ORDER":case"ADD_ADDRESS":case"EDIT_ADDRESS":return Object(E.a)(Object(E.a)({},e),{},{user:t.data});default:return e}},k="https://pizzapizzadelivery.herokuapp.com/api",T=function(){var e=Object(h.a)(g.a.mark((function e(t,a){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getbycoord running"),e.next=3,b.a.post("".concat(k,"/searchByCoordinates"),{lat:t,lon:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),S=function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat(k,"/placeDetails"),{place_id:t});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(k,"/menuItems"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(k,"/promos"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z={nearbyPlaces:void 0,placeDetails:void 0,menu:void 0,promos:void 0},A=function(e){return{type:"SET_PLACES",data:e}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CLEAR_PLACES":return z;case"SET_PLACES":return Object(E.a)(Object(E.a)({},e),{},{nearbyPlaces:t.data});case"GET_PLACE_DETAILS":return Object(E.a)(Object(E.a)({},e),{},{placeDetails:t.data});case"REQUEST_ADD_RESTAURANT":return e;case"INIT_MENU":return Object(E.a)(Object(E.a)({},e),{},{menu:t.data});case"INIT_PROMOS":return Object(E.a)(Object(E.a)({},e),{},{promos:t.data});default:return e}},I=Object(i.combineReducers)({activeUser:w,placesReducer:R}),P={key:"root",storage:m.a},B=Object(s.a)(P,(function(e,t){return"USER_LOGOUT"===t.type&&(e=void 0),I(e,t)})),D=Object(i.createStore)(B,Object(p.composeWithDevTools)(Object(i.applyMiddleware)(d.a))),F=Object(s.b)(D),L=a(123),M=a(38),U=a(17),V=a(250),H=a(249),q=a(97),G=a(247),W=a(44),$=a(244),Z=a(79),Y=a(130),J=a(124),K=a.n(J),Q=a(125),X=a.n(Q),ee=Object($.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(X.a,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(2,0,.5)}}}));function te(){var e=ee(),t=Object(o.b)();Object(n.useEffect)((function(){t(function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.getUser();case 3:a=e.sent,t({type:"GET_USER",data:a.user}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[t]);return r.a.createElement(G.a,{container:!0,component:"main",className:e.root},r.a.createElement(H.a,null),r.a.createElement(G.a,{item:!0,xs:!1,sm:4,md:7,className:e.image}),r.a.createElement(G.a,{item:!0,xs:12,sm:8,md:5,component:q.a,elevation:6,square:!0},r.a.createElement("div",{className:e.paper},r.a.createElement("img",{src:K.a,alt:"pizza big"}),r.a.createElement(W.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{className:e.form,noValidate:!0},r.a.createElement(V.a,{onClick:function(){window.open("https://pizzapizzadelivery.herokuapp.com/auth/google","_self")},fullWidth:!0,variant:"contained",className:e.submit,style:{backgroundColor:"#de5246",color:"white",height:60}},r.a.createElement(Z.a,{icon:Y.a,style:{fontSize:30,marginRight:20,color:"white"}}),"Continue with Google")))))}var ae=a(10),ne=a(47),re=a(3),ce=a(292),le=a(279),oe=a(280),ie=a(291),se=a(267),ue=a(282),me=a(194),de=a(271),pe=a(143),fe=a.n(pe),ge=a(281),he=a(144),Ee=a.n(he),ye=a(193),be=a(251),ve=a(253),xe=a(131),Oe=a.n(xe),je=a(132),Ce=a.n(je),we=a(252),ke=a(254),Te=r.a.createElement("div",null,r.a.createElement(ye.a,{button:!0,component:M.b,to:"/dashboard"},r.a.createElement(be.a,null,r.a.createElement(we.a,null)),r.a.createElement(ve.a,{primary:"Places"})),r.a.createElement(ye.a,{button:!0,component:M.b,to:"/dashboard/cart"},r.a.createElement(be.a,null,r.a.createElement(Oe.a,null)),r.a.createElement(ve.a,{primary:"Cart"})),r.a.createElement(ye.a,{button:!0,component:M.b,to:"/dashboard/orders"},r.a.createElement(be.a,null,r.a.createElement(ke.a,null)),r.a.createElement(ve.a,{primary:"Orders"})),r.a.createElement(ye.a,{button:!0,component:M.b,to:"/dashboard/account"},r.a.createElement(be.a,null,r.a.createElement(Ce.a,null)),r.a.createElement(ve.a,{primary:"Account"}))),Se=a(133),Ne=a.n(Se),_e=a(255),ze=a(256),Ae=a(257),Re=a(134),Ie=a.n(Re),Pe=a(289),Be=a(258),De=a(259),Fe=function(e,t,a,n){var r=Math.PI,c=n*(r/180)-a*(r/180),l=t*(r/180)-e*(r/180),o=Math.pow(Math.sin(l/2),2)+Math.cos(e)*Math.cos(t)*Math.pow(Math.sin(c/2),2);return 6371*(2*Math.asin(Math.sqrt(o)))},Le=function(){var e=Object(o.c)((function(e){return e.activeUser.user})),t=Object(o.c)((function(t){return t.placesReducer.nearbyPlaces?t.placesReducer.nearbyPlaces.filter((function(t){return!e.favoriteRestaurants.includes(t.place_id)})):null})),a=Object(n.useState)(!1),c=Object(ae.a)(a,2),l=c[0],i=c[1],s=Object(o.b)(),u=Object(n.useState)(0),m=Object(ae.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(0),E=Object(ae.a)(f,2),y=E[0],b=E[1],v=Object(U.g)(),O=Object(n.useRef)(null);Object(n.useEffect)((function(){return O.current=!0,!navigator.geolocation||d||y||navigator.geolocation.getCurrentPosition((function(e){O.current&&(p(e.coords.latitude),b(e.coords.longitude))})),function(){return O.current=!1}}),[d,y]),Object(n.useEffect)((function(){return O.current=!0,function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l||!O.current){e.next=5;break}return e.next=3,T(d,y);case 3:t=e.sent,O.current&&s(A(t.results));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return O.current=!1}}),[s,l,d,y]);var j=function(t){try{s(function(e,t){return function(){var a=Object(h.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.addFavoriteRestaurant(e,t);case 3:r=a.sent,n({type:"ADD_FAVORITE",data:r}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(t,e._id))}catch(a){console.log(a)}};return r.a.createElement("div",{className:"dashDiv"},r.a.createElement("h5",{className:"sticky-head"},"Near Me"),t?t.map((function(e){return r.a.createElement(_e.a,{key:e.place_id},r.a.createElement(ze.a,{titleTypographyProps:{variant:"h4"},title:e.name,subheader:Fe(d,e.geometry.location.lat,y,e.geometry.location.lng).toFixed(2)+" km"}),r.a.createElement(Ae.a,null,e.opening_hours.open_now?r.a.createElement(Pe.a,{style:{fontSize:10,marginTop:12,float:"left",marginLeft:10},size:"small",label:"Open",icon:r.a.createElement(Be.a,{style:{color:"green"}})}):r.a.createElement(Pe.a,{style:{fontSize:10,marginTop:12,float:"left",marginLeft:10},label:"Closed",size:"small",icon:r.a.createElement(De.a,{style:{color:"red",fontSize:18}})}),r.a.createElement(V.a,{variant:"outlined",size:"small",onClick:function(){return t=e.place_id,void v.push("/dashboard/restaurant/".concat(t));var t}},"Show Details"),r.a.createElement(me.a,{"aria-label":"add to favorites",onClick:function(){return j(e.place_id)}},r.a.createElement(Ie.a,null))))})):r.a.createElement("div",{style:{height:"100%",width:"100%",margin:"auto",textAlign:"center"}},r.a.createElement(V.a,{style:{width:"100%",height:"100%",margin:"auto"},onClick:function(){return i(!0)}},"Show me nearby restaurants")))},Me=a(145),Ue=a(136),Ve=function(e){var t=e.name,a=e.place_id,n=Object(U.g)();return r.a.createElement("div",{className:"marker",style:{fontSize:18},title:t},r.a.createElement(me.a,{onClick:function(){return function(e){n.push("/dashboard/restaurant/".concat(e))}(a)}},r.a.createElement(Z.a,{icon:Ue.a,style:{color:"#ff430a"}})))},He=a(137),qe=a.n(He),Ge=function(e){var t=e.name;return r.a.createElement("div",{className:"marker",title:t},r.a.createElement(ie.a,{alt:"logo",height:15,width:15,style:{backgroundColor:"#554fc2",zIndex:1e3}},r.a.createElement(qe.a,null)))},We=a(138),$e=a.n(We),Ze=function(){var e=Object(n.useState)(0),t=Object(ae.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(0),i=Object(ae.a)(l,2),s=i[0],u=i[1],m=Object(o.c)((function(e){return e.placesReducer.nearbyPlaces})),d=Object(n.useState)(!1),p=Object(ae.a)(d,2),f=p[0],E=p[1],y=Object(o.b)(),b=Object(n.useRef)(null);Object(n.useEffect)((function(){return b.current=!0,!navigator.geolocation||a||s||navigator.geolocation.getCurrentPosition((function(e){b.current&&(c(e.coords.latitude),u(e.coords.longitude))})),function(){return b.current=!1}}),[a,s]),Object(n.useEffect)((function(){return b.current=!0,function(){var e=Object(h.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f||!b.current){e.next=5;break}return e.next=3,T(a,s);case 3:t=e.sent,b.current&&y(A(t.results));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){return b.current=!1}}),[y,f,a,s]);var v={lat:a,lng:s};return r.a.createElement("div",{style:{height:"100%",width:"100%",margin:"auto",textAlign:"center"}},f?r.a.createElement(Me.a,{bootstrapURLKeys:{key:"AIzaSyDOGIAuX1dmmAxFVJQAlnG5LD8E_1FsvGk"},defaultCenter:{lat:46,lng:74},defaultZoom:13,center:v},m&&m.length>0?r.a.createElement(Ge,{lat:a,lng:s,name:"Me"}):null,m&&m.length>0?m.map((function(e){return r.a.createElement(Ve,{key:e.place_id,lat:e.geometry.location.lat,lng:e.geometry.location.lng,name:e.name,place_id:e.place_id})})):null):r.a.createElement("div",{style:{height:"100%",width:"100%",margin:"auto",textAlign:"center",backgroundImage:"url(".concat($e.a)}},r.a.createElement(V.a,{style:{width:"100%",height:"100%",margin:"auto",textTransform:"none"},onClick:function(){return E(!0)}},"Show Map")))},Ye=a(73),Je=a.n(Ye),Ke=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.activeUser.user})),a=Object(o.c)((function(e){return e.placesReducer.nearbyPlaces?e.placesReducer.nearbyPlaces.filter((function(e){return t.favoriteRestaurants.includes(e.place_id)})):null})),c=Object(n.useState)(0),l=Object(ae.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(0),m=Object(ae.a)(u,2),d=m[0],p=m[1],f=Object(U.g)(),E=Object(n.useRef)(null);Object(n.useEffect)((function(){return E.current=!0,!navigator.geolocation||i||d||navigator.geolocation.getCurrentPosition((function(e){E.current&&(s(e.coords.latitude),p(e.coords.longitude))})),function(){return E.current=!1}}),[i,d]);var y=function(a){try{e(function(e,t){return function(){var a=Object(h.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.removeFavoriteRestaurant(e,t);case 3:r=a.sent,n({type:"REMOVE_FAVORITE",data:r}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(a,t._id))}catch(n){console.log(n)}};return r.a.createElement("div",{className:"dashDiv"},r.a.createElement("h5",{className:"sticky-head"},"Favorites"),a&&a.length>0?a.map((function(e){return r.a.createElement("div",{key:e.place_id,style:{marginTop:10}},r.a.createElement(_e.a,null,r.a.createElement("div",null,r.a.createElement(ze.a,{title:e.name,subheader:Fe(i,e.geometry.location.lat,d,e.geometry.location.lng).toFixed(2)+" km"})),r.a.createElement(Ae.a,null,r.a.createElement(V.a,{variant:"outlined",size:"small",onClick:function(){return t=e.place_id,void f.push("/dashboard/restaurant/".concat(t));var t}},"Show Details"),e.opening_hours.open_now?r.a.createElement(Pe.a,{style:{fontSize:10,marginTop:12,float:"left",marginLeft:10},size:"small",label:"Open",icon:r.a.createElement(Be.a,{style:{color:"green"}})}):r.a.createElement(Pe.a,{style:{fontSize:10,marginTop:12,float:"left",marginLeft:10},size:"small",label:"Closed",icon:r.a.createElement(De.a,{style:{color:"red",fontSize:18}})}),r.a.createElement(me.a,{"aria-label":"add to favorites",onClick:function(){return y(e.place_id)}},r.a.createElement(Je.a,null)))))})):r.a.createElement("div",{style:{display:"inline-flex",height:"90%",width:"100%",margin:"auto",justifyContent:"center",alignItems:"center"}},r.a.createElement(W.a,{variant:"h6",color:"textSecondary"},"No Favorites Yet")))},Qe=a(260),Xe=function(){var e=Object(o.c)((function(e){return e.placesReducer.promos?e.placesReducer.promos:null})),t=Object(o.b)(),a=Object(n.useRef)(null);return Object(n.useEffect)((function(){return a.current=!0,e||t(function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_();case 3:a=e.sent,t({type:"INIT_PROMOS",data:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),function(){return a.current=!1}}),[t,e]),r.a.createElement("div",{className:"dashDiv"},r.a.createElement("h5",{className:"sticky-head"},"Promotions"),e?e.map((function(e){return r.a.createElement(_e.a,{key:e._id},r.a.createElement(ze.a,{title:"Promo Code: ".concat(e.code)}),r.a.createElement(Qe.a,null,r.a.createElement(W.a,{variant:"body2",color:"textPrimary",component:"p"},e.description)))})):null)},et=a(261),tt=a(268),at=a(263),nt=a(262),rt=a(283),ct=a(88),lt=function(e){var t=e.user,a=e.titleMessage,c=e.openOnClick,l=e.setOpenOnClick,i=Object(o.b)(),s=Object(n.useState)(0===t.addresses.length),u=Object(ae.a)(s,2),m=u[0],d=u[1];Object(n.useEffect)((function(){c&&d(!0)}),[d,c]);var p=function(){d(!1),l(!1)};return r.a.createElement("div",null,m?r.a.createElement(et.a,{open:m,onClose:p,"aria-labelledby":"form-dialog-title"},r.a.createElement(nt.a,{id:"form-dialog-title"},a),r.a.createElement(at.a,null,r.a.createElement(ct.a,{initialValues:{locationName:"",addressNumber:"",street:"",city:"",state:"",country:"",zip:"",specialInstructions:""},validate:function(e){var t={};return e.locationName||(t.locationName="Required"),e.addressNumber||(t.addressNumber="Required"),e.street||(t.street="Required"),e.city||(t.city="Required"),e.state||(t.state="Required"),e.country||(t.country="Required"),e.zip||(t.zip="Required"),t},onSubmit:function(){var e=Object(h.a)(g.a.mark((function e(a,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.setSubmitting,n.resetForm,r(!0),i(j(t._id,{locationName:a.locationName,addressNumber:a.addressNumber,street:a.street,city:a.city,state:a.state,country:a.country,zip:a.zip,specialInstructions:a.specialInstructions})),p();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.values,a=e.errors,n=e.touched,c=e.handleChange,l=e.handleBlur,o=e.handleSubmit;e.isSubmitting;return r.a.createElement("form",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"},onSubmit:o},r.a.createElement(rt.a,{type:"text",label:"Location Name",name:"locationName",onChange:c,onBlur:l,value:t.locationName,error:!(!a.locationName||!n.locationName),helperText:a.locationName&&n.locationName&&a.locationName,style:{margin:10}}),r.a.createElement(rt.a,{type:"number",label:"Building Number",name:"addressNumber",onChange:c,onBlur:l,value:t.addressNumber,error:!(!a.addressNumber||!n.addressNumber),helperText:a.addressNumber&&n.addressNumber&&a.addressNumber,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"Street",name:"street",onChange:c,onBlur:l,value:t.street,error:!(!a.street||!n.street),helperText:a.street&&n.street&&a.street,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"City/Town",name:"city",onChange:c,onBlur:l,value:t.city,error:!(!a.city||!n.city),helperText:a.city&&n.city&&a.city,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"State/Province",name:"state",onChange:c,onBlur:l,value:t.state,error:!(!a.state||!n.state),helperText:a.state&&n.state&&a.state,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"Country",name:"country",onChange:c,onBlur:l,value:t.country,error:!(!a.country||!n.country),helperText:a.country&&n.country&&a.country,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"Zip Code",name:"zip",onChange:c,onBlur:l,value:t.zip,error:!(!a.zip||!n.zip),helperText:a.zip&&n.zip&&a.zip,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"Special instructions?",name:"specialInstructions",onChange:c,onBlur:l,value:t.specialInstructions,helperText:a.specialInstructions&&n.specialInstructions&&a.specialInstructions,style:{margin:10}}),r.a.createElement("div",{style:{display:"block",width:"100%",marginTop:20}},r.a.createElement(tt.a,null,r.a.createElement(V.a,{onClick:p,color:"primary"},"Cancel"),r.a.createElement(V.a,{type:"submit",color:"primary"},"Submit"))))})))):null)},ot=Object($.a)((function(e){return{paper:{padding:e.spacing(0),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:280}}})),it=function(){var e=ot(),t=Object(re.a)(e.paper,e.fixedHeight),a=Object(o.c)((function(e){return e.activeUser.user})),c=Object(n.useState)(!1),l=Object(ae.a)(c,2),i=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{container:!0,spacing:2},r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(q.a,{className:t},r.a.createElement(Le,null))),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:8,lg:8},r.a.createElement(q.a,{className:t},r.a.createElement(Ze,null))),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(q.a,{className:t},r.a.createElement(Ke,null))),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(q.a,{className:t},r.a.createElement(Xe,null)))),r.a.createElement(lt,{user:a,titleMessage:"Tell us where to deliver your pizza, and we'll save your information so you only have to do this once.",openOnClick:i,setOpenOnClick:s}))},st=function(e){var t=e.place;return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("h5",{className:"sticky-head"},"Restaurant"),void 0!==t?r.a.createElement(_e.a,{style:{height:178}},r.a.createElement(Qe.a,null,r.a.createElement(W.a,{variant:"body1",color:"textPrimary"},t.name),r.a.createElement(W.a,{variant:"body2",color:"textSecondary"},t.formatted_address))):r.a.createElement("h3",null,"Loading..."))},ut=a(269),mt=a(270),dt=function(e){var t=e.place;return r.a.createElement("div",null,r.a.createElement("h5",{className:"sticky-head"},"Hours and Contact"),void 0!==t?r.a.createElement(_e.a,{style:{textAlign:"center",height:"auto",marginTop:10}},t.opening_hours.open_now?r.a.createElement(Pe.a,{label:"Open",icon:r.a.createElement(Be.a,{style:{color:"green"}})}):r.a.createElement(Pe.a,{label:"Closed",icon:r.a.createElement(De.a,{style:{color:"red"}})}),r.a.createElement(Qe.a,null,r.a.createElement(W.a,{variant:"body1",color:"textPrimary"},r.a.createElement(ut.a,null)),r.a.createElement(W.a,{variant:"body2",color:"textSecondary",component:"ul",style:{listStyleType:"none",padding:0}},t.opening_hours.weekday_text.map((function(e){return r.a.createElement("li",{key:e},e)}))),r.a.createElement("br",null),r.a.createElement(W.a,{variant:"body1",color:"textPrimary"},r.a.createElement(mt.a,null)),r.a.createElement(W.a,{variant:"body2",color:"textSecondary",component:"p"},t.formatted_phone_number))):r.a.createElement("h3",null,"Loading..."))},pt=a(290),ft=function(e){var t=e.place;return r.a.createElement("div",null,r.a.createElement("h5",{className:"sticky-head"},"Reviews"),void 0!==t.reviews?t.reviews.map((function(e){return r.a.createElement(_e.a,{key:e.author_name},r.a.createElement(Qe.a,{className:"placeReviewsCard"},r.a.createElement(ie.a,{src:e.profile_photo_url}),r.a.createElement(W.a,{variant:"body1",component:"p"},e.author_name),r.a.createElement(W.a,{style:{fontSize:10}},e.relative_time_description),r.a.createElement(pt.a,{name:"read-only",value:e.rating,readOnly:!0}),r.a.createElement(W.a,{variant:"body2",color:"textSecondary",component:"p"},e.text),r.a.createElement(W.a,{variant:"body2",component:"h6"})))})):r.a.createElement("h3",null,"No reviews"))},gt=a(274),ht=a(293),Et=a(275),yt=a(287),bt=a(264),vt=a(265),xt=a(272),Ot=a(273),jt=a(285),Ct=a(196),wt=a(286),kt=function(e){for(var t=e.pizza,a=e.place,c=e.user,l=Object(o.b)(),i=Object(n.useState)("large"),s=Object(ae.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)("regular"),p=Object(ae.a)(d,2),f=p[0],y=p[1],b=[t.map((function(e){return e.regular_toppings.map((function(e){return[e,!1]}))}))],v=Object.fromEntries(b[0][0]),O=[t.map((function(e){return e.premium_toppings.map((function(e){return[e,!1]}))}))],j=Object.fromEntries(O[0][0]),C=Object(n.useState)(v),w=Object(ae.a)(C,2),k=w[0],T=w[1],S=Object(n.useState)(j),N=Object(ae.a)(S,2),_=N[0],z=N[1],A=[],R=[],I=Object.entries(k),P=Object.entries(_),B=0;B<I.length;B++)I[B].includes(!0)&&A.push(I[B][0]);for(var D=0;D<P.length;D++)P[D].includes(!0)&&R.push(P[D][0]);var F=function(e){T(Object(E.a)(Object(E.a)({},k),{},Object(ne.a)({},e.target.name,e.target.checked)))},L=function(e){z(Object(E.a)(Object(E.a)({},_),{},Object(ne.a)({},e.target.name,e.target.checked)))},M=function(e,a,n,r,o,i,s,u){var d,p,f={itemId:e,itemType:a,selectedVariant:r,selectedSize:n,selectedRegularToppings:s,selectedPremiumToppings:u,restaurantName:o,restaurantId:i,totalPrice:function(e,t,a,n,r){for(var c=0,l=0,o=0,i=0,s=0;s<e[0].pizza_base_prices.length;s++)t===e[0].pizza_base_prices[s].size&&(c=e[0].pizza_base_prices[s].price);for(var u=0;u<e[0].add_ons.length;u++)a===e[0].add_ons[u].variant&&(l=e[0].add_ons[u].multiplier*c);return n&&(o=2*n.length),r&&(i=4*r.length),(1.07*(l+o+i)).toFixed(2)}(t,n,r,s,u)};try{l((d=c._id,p=f,function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.addPizzaToCart(d,p);case 3:a=e.sent,t({type:"ADD_PIZZA_TO_CART",data:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),T(v),z(j),m("large"),y("regular")}catch(E){console.log(E)}};return r.a.createElement(de.a,null,r.a.createElement("h2",null,"Pizza"),r.a.createElement(G.a,{container:!0,spacing:2},r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement("div",null),r.a.createElement(bt.a,{component:"fieldset"},r.a.createElement(vt.a,{style:{color:"#575551"},component:"legend"},"Choose a size:"),r.a.createElement(xt.a,{"aria-label":"style",name:"Style",value:u,onChange:function(e){m(e.target.value)}},t.map((function(e){return e.pizza_base_prices.map((function(e){return r.a.createElement(Ot.a,{key:e.size,value:e.size,control:r.a.createElement(jt.a,{style:{color:"#575551"}}),label:"".concat(e.size,": $").concat(e.price)})}))}))))),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(bt.a,{component:"fieldset"},r.a.createElement(vt.a,{style:{color:"#575551"},component:"legend"},"Choose a style:"),r.a.createElement(xt.a,{"aria-label":"style",name:"Style",value:f,onChange:function(e){y(e.target.value)}},t.map((function(e){return e.variants.map((function(e){return r.a.createElement(Ot.a,{key:e,value:e,control:r.a.createElement(jt.a,{style:{color:"#575551"}}),label:"regular"!==e?"".concat(e," (add 20%)"):e})}))}))))),r.a.createElement(G.a,{item:!0,xs:12,sm:12,md:6,lg:6},r.a.createElement(vt.a,{component:"legend",style:{color:"#575551"}},"Choose some toppings:"),r.a.createElement("br",null),r.a.createElement(vt.a,{component:"legend"},"Regular ($2 each)"),r.a.createElement(Ct.a,{row:!0},t.map((function(e){return e.regular_toppings.map((function(e){return r.a.createElement(Ot.a,{key:e,control:r.a.createElement(wt.a,{style:{color:"#575551"},checked:k[e],name:e,onChange:F}),label:e})}))}))),r.a.createElement("br",null),r.a.createElement(vt.a,{component:"legend"},"Premium ($4 each)"),r.a.createElement(Ct.a,{row:!0},t.map((function(e){return e.premium_toppings.map((function(e){return r.a.createElement(Ot.a,{key:e,control:r.a.createElement(wt.a,{style:{color:"#575551"},checked:_[e],name:e,onChange:L}),label:e})}))}))),r.a.createElement("br",null)),r.a.createElement(G.a,{item:!0,xs:12,sm:12,md:6,lg:6},r.a.createElement(de.a,{style:{paddingTop:70,paddingBottom:70}},r.a.createElement(_e.a,{style:{backgroundColor:"#575551",color:"white"}},r.a.createElement(Qe.a,null,r.a.createElement(W.a,{variant:"body1"},"Add a ".concat(u," ").concat(f," pizza with ").concat(function(){var e=A.length+R.length;switch(e){case 0:return"no toppings";case 1:return"1 topping";default:return"".concat(e," toppings")}}()," to your cart?"))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(Ae.a,{style:{textAlign:"center"}},r.a.createElement(V.a,{onClick:function(){return M(t.id,t[0].type,u,f,a.name,a.place_id,A,R)},variant:"outlined",style:{backgroundColor:"#ff430a",color:"white"}},"Add"))))))))},Tt=function(e){for(var t=e.beverages,a=e.user,c=e.place,l=e.setOpen,i=e.sendToCart,s=Object(o.b)(),u=[t[0].choices.map((function(e){return[e,!1]}))],m=Object.fromEntries(u[0]),d=Object(n.useState)(m),p=Object(ae.a)(d,2),f=p[0],y=p[1],b=[],v=Object.entries(f),O=0;O<v.length;O++)v[O].includes(!0)&&b.push(v[O][0]);var j=function(){l(!1)},C=function(e){y(Object(E.a)(Object(E.a)({},f),{},Object(ne.a)({},e.target.name,e.target.checked)))},w=function(e,t,n,r,c){var l,o,u={selectedBeverages:n,totalPrice:(1.75*n.length*1.07).toFixed(2),item_id:e,itemType:t,restaurantName:r,restaurantId:c};try{s((l=a._id,o=u,function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.addBeveragesToCart(l,o);case 3:a=e.sent,t({type:"ADD_BEVERAGES_TO_CART",data:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),j(),y(m),i()}catch(d){console.log(d),j()}};return r.a.createElement(de.a,null,r.a.createElement("h2",null,"Beverages ($".concat(t[0].beverage_base_prices," each)")),r.a.createElement(G.a,{container:!0,spacing:2},r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(Ct.a,{row:!0},t[0].choices.map((function(e){return r.a.createElement(Ot.a,{key:e,control:r.a.createElement(wt.a,{style:{color:"#575551"},checked:f[e],name:e,onChange:C}),label:e})})))),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:6,lg:6},r.a.createElement(de.a,{style:{paddingTop:70,paddingBottom:70}},r.a.createElement(_e.a,{style:{backgroundColor:"#575551",color:"white"}},r.a.createElement(Qe.a,null,r.a.createElement(W.a,{variant:"body1"},b.length>0?"Add ".concat(1===b.length?"a ".concat(b[0]," to your cart?"):2===b.length?"a ".concat(b[0]," and a ").concat(b[1]," to your cart?"):3===b.length?"a ".concat(b[0],", a ").concat(b[1],", and a ").concat(b[2]," to your cart?"):"a ".concat(b[0],", a ").concat(b[1],", a ").concat(b[2]," and a ").concat(b[3]," to your cart?")):"No drink selected")),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(Ae.a,{style:{textAlign:"center"}},b.length>0?r.a.createElement(V.a,{onClick:function(){return w(t[0]._id,t[0].type,b,c.name,c.place_id)},variant:"outlined",style:{backgroundColor:"#ff430a",color:"white"}},"Add"):null)))))))},St=a(142),Nt=a.n(St),_t=Object($.a)((function(e){return{expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})}}})),zt=function(e){var t=e.items,a=e.place,c=_t(),l=Object(n.useState)(!1),i=Object(ae.a)(l,2),s=i[0],u=i[1],m=Object(o.c)((function(e){return e.activeUser.user})),d=t.filter((function(e){return"beverages"===e.type})),p=t.filter((function(e){return"pizza"===e.type})),f=Object(n.useState)(0),g=Object(ae.a)(f,2),h=g[0],E=g[1],y=Object(n.useState)(!1),b=Object(ae.a)(y,2),v=(b[0],b[1]),x=Object(U.g)();var O=["Build your pizzas","...and to drink?"],j=function(){x.push("/dashboard/cart")};return a.opening_hours.open_now?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"sticky-head"},"Order"),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(V.a,{className:c.expand,onClick:function(){u(!s)},"aria-expanded":s,"aria-label":"show more",startIcon:r.a.createElement(Nt.a,null),variant:"outlined",style:{margin:10}},"Show Menu")),r.a.createElement(gt.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(ht.a,{activeStep:h,alternativeLabel:!0},O.map((function(e){return r.a.createElement(Et.a,{key:e},r.a.createElement(yt.a,null,e))}))),r.a.createElement("div",null,h===O.length?j():r.a.createElement(r.a.Fragment,null,function(e){switch(e){case 0:return r.a.createElement(kt,{pizza:p,place:a,user:m});case 1:return r.a.createElement(Tt,{beverages:d,user:m,place:a,setOpen:v,sendToCart:j});default:return"Unknown stepIndex"}}(h),r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(V.a,{disabled:0===h,onClick:function(){E((function(e){return e-1}))},style:{marginRight:20,marginBottom:20,marginTop:20}},"Back"),r.a.createElement(V.a,{style:{marginBottom:20,marginTop:20,marginLeft:20},color:"default",variant:"outlined",onClick:function(){E((function(e){return e+1}))}},h===O.length-1?"Finish":"Next")))))):r.a.createElement("div",null,r.a.createElement("h5",{className:"sticky-head"},"Order"),r.a.createElement("div",{style:{margin:10,width:"auto"}},r.a.createElement(W.a,{variant:"body1",color:"textSecondary"},"Sorry, this restaurant is closed.")))},At=a(276),Rt=Object($.a)((function(e){return{paper:{paddingLeft:e.spacing(0),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:200},menu:{height:"auto"}}})),It=function(){var e=Rt(),t=Object(re.a)(e.paper,e.fixedHeight),a=Object(re.a)(e.paper,e.menu),c=Object(o.c)((function(e){return e.activeUser.user})),l=Object(U.h)(),i=Object(o.b)(),s=Object(o.c)((function(e){return e.placesReducer.placeDetails}));Object(n.useEffect)((function(){s&&s.place_id===l.id||i(function(e){return function(){var t=Object(h.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(e);case 3:n=t.sent,a({type:"GET_PLACE_DETAILS",data:n.result}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(l))}),[i,s,l]);var u=Object(o.c)((function(e){return e.placesReducer.menu?e.placesReducer.menu:void 0}));return Object(n.useEffect)((function(){u||i(function(){var e=Object(h.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N();case 3:a=e.sent,t({type:"INIT_MENU",data:a}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[i,u]),s&&u?r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{container:!0,spacing:2},r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(q.a,{className:t},r.a.createElement(st,{place:s}))),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(q.a,{className:t},r.a.createElement(dt,{place:s}))),r.a.createElement(G.a,{item:!0,xs:12,sm:12,md:4,lg:4},r.a.createElement(q.a,{className:t},r.a.createElement(ft,{place:s}))),r.a.createElement(G.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(q.a,{className:a},0===c.cart.length||c.cart[0].restaurantId===s.place_id?r.a.createElement(zt,{items:u,place:s}):"You already have items from ".concat(c.cart[0].restaurantName," in your cart.  Please complete your order from that restaurant first, or remove those items from your cart."))))):r.a.createElement(At.a,{color:"secondary"})},Pt=a(288),Bt=a(284),Dt=Object($.a)((function(e){return{paper:{paddingLeft:e.spacing(0),display:"flex",flexDirection:"column"},fixedHeight:{height:200},itemsContainer:{minHeight:500,backgroundColor:"#575551"},cardStyle:{display:"block",height:"auto",margin:"auto"},cardHeader:{paddingTop:10,paddingBottom:10,textTransform:"capitalize",marginTop:10,height:80},cardActions:{justifyContent:"center",margin:"auto",height:35,backgroundColor:"black"},priceText:{backgroundColor:"#575551",color:"white"}}})),Ft=function(e){var t=new Date(e).getTime()+18e5,a=Date.now();if(a>t)return"Completed";var n=30-Math.floor((t-a)/6e4);return Math.round(n/30*100)},Lt=function(e){var t=e.toString().split(/\./);return 1===t[t.length-1].length&&(t[t.length-1]=t[t.length-1]+"0"),t.join(".")},Mt=function(){var e=Dt(),t=Object(re.a)(e.paper,e.itemsContainer),a=Object(o.c)((function(e){return e.activeUser.user})),c=Object(n.useState)(0),l=Object(ae.a)(c,2),i=(l[0],l[1]);return Object(n.useEffect)((function(){var e=setInterval((function(){i((function(e){if(100===e)return 0;var t=10*Math.random();return Math.min(e+t,100)}))}),500);return function(){clearInterval(e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{container:!0,spacing:2},r.a.createElement(G.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(q.a,{className:t},r.a.createElement(G.a,{container:!0,spacing:1},a.orders.sort((function(e,t){return new Date(t.date)-new Date(e.date)})).map((function(t){return r.a.createElement(G.a,{key:t._id,item:!0,xs:12,sm:6,md:3,lg:3},r.a.createElement(_e.a,{className:e.cardStyle},r.a.createElement(ze.a,{className:e.cardHeader,titleTypographyProps:{variant:"subtitle1"},title:"".concat(t.cart[0].restaurantName),subheader:"Completed"===Ft(t.date)?new Date(t.date).toString().slice(0,25):r.a.createElement(At.a,{variant:"determinate",value:Ft(t.date)})}),r.a.createElement(Qe.a,{style:{listStyleType:"none",paddingTop:0,height:180,overflow:"auto"}},r.a.createElement(W.a,{variant:"caption"},"Completed"!==Ft(t.date)?r.a.createElement("em",null,(a=Ft(t.date))<20?"Preparing your order":a<60?"It's a'cookin!":a<70?"Adding the finishing touches":a<87?"Our driver picked up your order":a<99?"Your order will be arriving any minute now":void 0):null,"Completed"!==Ft(t.date)?r.a.createElement("hr",null):null),r.a.createElement(W.a,{variant:"subtitle2",style:{height:20}},r.a.createElement("div",{style:{float:"left"}},"".concat("Completed"===Ft(t.date)?"Delivered":Ft(t.date)+"%")),r.a.createElement("div",{style:{float:"right"}},"ID: ".concat(t.confirmation))),r.a.createElement("hr",null),t.cart.map((function(e){return r.a.createElement("div",{key:e._id,style:{margin:5,paddingBottom:5,paddingTop:0}},r.a.createElement(W.a,{variant:"body2",style:{display:"inline-flex"}},e.selectedVariant?r.a.createElement("em",null,e.selectedVariant):null),r.a.createElement("div",{style:{display:"block"}},r.a.createElement(W.a,{variant:"caption"},r.a.createElement("small",null," ",e.selectedRegularToppings.map((function(e){return r.a.createElement("span",{key:e}," ",e," ")})),e.selectedPremiumToppings.map((function(e){return r.a.createElement("span",{key:e}," ",e," ")}))))),"beverages"===e.itemType?e.selectedBeverages.map((function(e){return r.a.createElement("div",{key:e},r.a.createElement(W.a,{variant:"body2",style:{display:"inline-flex"}},r.a.createElement("em",null," ",e)))})):null)}))),r.a.createElement("div",{style:{textAlign:"center",height:"50px",lineHeight:4}},t.activeCartBilling?"Total: $".concat(Lt(t.activeCartBilling.afterPromoPrice)):"Total: $".concat(Lt(t.cart.reduce((function(e,t){return e+t.totalPrice}),0))))));var a})))))))},Ut=function(e){var t=e.pizza,a=e.bevs,c=e.user,l=e.totalPrice,i=e.setTotalPrice,s=e.activeCartBillingObject,u=e.codeEntered,m=e.setCodeEntered,d=Object(o.b)(),p=Object(o.c)((function(e){return e.placesReducer.promos})),f=Object(n.useState)({severity:"",message:""}),E=Object(ae.a)(f,2),y=E[0],b=E[1],v=Object(n.useState)(""),O=Object(ae.a)(v,2),j=O[0],C=O[1],w=function(e){var t=(l-e).toFixed(2);d(function(e,t,a,n,r){return function(){var c=Object(h.a)(g.a.mark((function c(l){var o;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,x.updateActiveCartBilling(e,t,a,n,r);case 3:o=c.sent,l({type:"SET_ACTIVE_CART_BILLING",data:o}),c.next=10;break;case 7:c.prev=7,c.t0=c.catch(0),console.log(c.t0);case 10:case"end":return c.stop()}}),c,null,[[0,7]])})));return function(e){return c.apply(this,arguments)}}()}(c._id,l,e,t,u))},k=r.a.useState(!1),T=Object(ae.a)(k,2),S=T[0],N=T[1],_=function(){N(!1)};return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("h5",{className:"sticky-head"},"Billing  "),r.a.createElement(_e.a,{style:{height:178,textAlign:"center"}},r.a.createElement(Qe.a,{style:{padding:10}},r.a.createElement(W.a,{variant:"body1"},"Total Due: $",s?Lt(s.afterPromoPrice.toFixed(2)):Number(Lt(l)).toFixed(2)),r.a.createElement(W.a,{variant:"caption",style:{listStyleType:"none"}},s?"original price: $".concat(Lt(s.beforePromoPrice.toFixed(2))):null),r.a.createElement("br",null),r.a.createElement(W.a,{variant:"caption",style:{listStyleType:"none"}},s?"discount: $".concat(Lt(s.priceDiff.toFixed(2))):null)),r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement(rt.a,{id:"outlined-helperText",label:"Promo Code *case-sensitive",variant:"outlined",size:"small",value:u,onChange:function(e){return function(e){m(e.target.value)}(e)},disabled:!!s}),r.a.createElement(V.a,{disabled:!!s,onClick:function(){return function(e){var n,r,o=p.map((function(t){return t.code===e&&t})).filter(Boolean);if(!(o.length>0))return N(!0),b({severity:"error",message:"Invalid Code"}),setTimeout((function(){b("")}),5e3),null;(n=o[0],function(e,t,a,n,r){switch(t){case"RIPBRASI":return a.map((function(e){return e.selectedRegularToppings.includes("anchovies")&&"sicilian"===e.selectedVariant})).includes(!0);case"1STORDER":return 0===e.orders.length;case"23DRINKFREE":return n.length>0&&r>=23}}(c,n.code,t,a,l))?j?(N(!0),b({severity:"warning",message:"You can only apply 1 promotion per order"}),setTimeout((function(){b("")}),5e3)):(N(!0),b({severity:"success",message:"Success!"}),setTimeout((function(){b("")}),5e3),C(n.discount),n.multiplier&&(r=(l*n.multiplier).toFixed(2),i((function(e){return(e*n.multiplier).toFixed(2)}))),n.credit&&(r=(l-n.credit).toFixed(2),i((function(e){return(e-n.credit).toFixed(2)}))),w(r)):(N(!0),b({severity:"error",message:"Your order does not qualify for the promotion you entered"}),setTimeout((function(){b("")}),5e3))}(u)}},"Apply")),r.a.createElement(Pt.a,{open:S,autoHideDuration:5e3,onClose:_},r.a.createElement(Bt.a,{onClose:_,severity:y.severity},y.message)))))},Vt=function(){return r.a.createElement("div",{style:{display:"inline-flex",height:"90%",width:"100%",margin:"auto",justifyContent:"center",alignItems:"center"}},r.a.createElement(W.a,{variant:"h6",color:"textSecondary"},"Such emptiness..."))},Ht=function(e){var t=e.place,a=e.setTotalPrice,c=e.setCodeEntered,l=Object(o.b)(),i=Object(U.g)(),s=Object(o.c)((function(e){return e.activeUser.user})),u=s.addresses,m=Object(n.useState)(!1),d=Object(ae.a)(m,2),p=d[0],f=d[1],E=Object(n.useState)(u?u[0].locationName:null),y=Object(ae.a)(E,2),b=y[0],v=y[1],O=function(){f(!0)},j=function(){f(!1)},C=function(){var e;l((e=s._id,function(){var t=Object(h.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.clearCart(e);case 3:n=t.sent,a({type:"RESET_CART",data:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),c(""),a(0)};return r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("h5",{className:"sticky-head"},"Checkout"),void 0!==t?r.a.createElement(_e.a,{style:{height:178,textAlign:"center"}},r.a.createElement(Qe.a,{style:{margin:"auto"}},s.activeCartBilling?r.a.createElement("div",null,r.a.createElement(V.a,{onClick:function(){return C()},style:{textTransform:"none",backgroundColor:"#575551",color:"white",height:60},fullWidth:!0},"Reset Cart"),r.a.createElement("hr",null),r.a.createElement(V.a,{onClick:O,style:{textTransform:"none",backgroundColor:"#ff430a",color:"white",height:60},fullWidth:!0},"I'm hungry! Place my order please.")):r.a.createElement("div",null,r.a.createElement(V.a,{onClick:function(){return e=t._id,void i.push("/dashboard/restaurant/".concat(e));var e},style:{textTransform:"none",backgroundColor:"lightgray",height:60},fullWidth:!0},"Order more items from ".concat(t.name)),r.a.createElement("hr",null),r.a.createElement(V.a,{onClick:O,style:{textTransform:"none",backgroundColor:"#ff430a",color:"white",height:60},fullWidth:!0},"I'm hungry! Place my order please.")))):r.a.createElement(Vt,null),r.a.createElement(et.a,{open:p,onClose:j,"aria-labelledby":"form-dialog-title"},r.a.createElement(at.a,null,r.a.createElement(bt.a,{component:"fieldset"},r.a.createElement(vt.a,{style:{color:"#575551"},component:"legend"},"Deliver to:"),r.a.createElement(xt.a,{"aria-label":"style",name:"Style",value:b,onChange:function(e){v(e.target.value)}},u.map((function(e){return r.a.createElement(Ot.a,{key:e.locationName,value:e.locationName,control:r.a.createElement(jt.a,{required:!0,style:{color:"#575551"}}),label:e.locationName})}))))),r.a.createElement(tt.a,null,r.a.createElement(V.a,{onClick:j,color:"primary"},"Cancel"),r.a.createElement(V.a,{onClick:function(){var e;l((e=s._id,function(){var t=Object(h.a)(g.a.mark((function t(a){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.addNewOrder(e);case 3:n=t.sent,a({type:"ADD_ORDER",data:n}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),j(),c("")},color:"primary"},"Submit"))))},qt=Object($.a)((function(e){return{paper:{paddingLeft:e.spacing(0),display:"flex",flexDirection:"column"},fixedHeight:{height:200},itemsContainer:{minHeight:500,backgroundColor:"#575551"},cardStyle:{display:"block",height:250,margin:"auto"},cardHeader:{paddingTop:10,paddingBottom:10,textTransform:"capitalize"},cardActions:{justifyContent:"center",margin:"auto",height:50,color:"#ff430a"},priceText:{fontStyle:"bold"}}})),Gt=function(e,t){return e.reduce((function(e,t){return e+t.totalPrice}),0)+t.reduce((function(e,t){return e+t.totalPrice}),0)},Wt=function(){var e,t=qt(),a=Object(re.a)(t.paper,t.fixedHeight),c=Object(re.a)(t.paper,t.itemsContainer),l=Object(o.c)((function(e){return e.activeUser.user})),i=Object(o.b)(),s=l.activeCartBilling,u=Object(n.useState)(s?s.promoApplied:""),m=Object(ae.a)(u,2),d=m[0],p=m[1],f=l.cart,E=f.filter((function(e){return"beverages"===e.itemType})),y=f.filter((function(e){return"pizza"===e.itemType})),b=Object(n.useState)(Gt(y,E)),v=Object(ae.a)(b,2),O=v[0],j=v[1];y.length>0?e={_id:y[0].restaurantId,name:y[0].restaurantName}:E.length>0&&(e={_id:E[0].restaurantId,name:E[0].restaurantName});var C=function(e){f=f.filter((function(t){return t._id!==e})),E=f.filter((function(e){return"beverages"===e.itemType})),y=f.filter((function(e){return"pizza"===e.itemType})),j(Gt(y,E));try{i(function(e,t){return function(){var a=Object(h.a)(g.a.mark((function a(n){var r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,x.removeItemFromCart(e,t);case 3:r=a.sent,n({type:"REMOVE_CART",data:r}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.log(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(l._id,e))}catch(t){console.log(t)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{container:!0,spacing:2},r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement(q.a,{className:a},r.a.createElement(Ht,{place:e,setTotalPrice:j,setCodeEntered:p}))),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:8,lg:8},r.a.createElement(q.a,{className:a},r.a.createElement(Ut,{pizza:y,bevs:E,user:l,totalPrice:O,setTotalPrice:j,activeCartBillingObject:s,codeEntered:d,setCodeEntered:p}))),r.a.createElement(G.a,{item:!0,xs:12,sm:12,md:12,lg:12},r.a.createElement(q.a,{className:c},r.a.createElement(G.a,{container:!0,spacing:1},y.map((function(e){return r.a.createElement(G.a,{key:e._id,item:!0,xs:12,sm:6,md:3,lg:3},r.a.createElement(_e.a,{className:t.cardStyle},r.a.createElement(ze.a,{className:t.cardHeader,titleTypographyProps:{variant:"h6"},title:"".concat(e.selectedVariant," ").concat(e.itemType),subheader:"size: ".concat(e.selectedSize)}),r.a.createElement(Qe.a,{style:{listStyleType:"none",paddingTop:0,height:"35%",overflow:"auto"}},r.a.createElement(W.a,{variant:"body2"},e.selectedRegularToppings.length+e.selectedPremiumToppings.length>0?"Toppings: ":"No toppings"),r.a.createElement(W.a,{variant:"caption"},e.selectedRegularToppings.map((function(e){return r.a.createElement("li",{key:e},e)})),e.selectedPremiumToppings.map((function(e){return r.a.createElement("li",{key:e},e)}))),r.a.createElement("br",null)),r.a.createElement("div",{style:{display:"block",textAlign:"center"}},r.a.createElement(W.a,{className:t.priceText},r.a.createElement("strong",null,"$",Lt(e.totalPrice))," ",r.a.createElement("small",{style:{fontSize:9}},"incuding tax")),r.a.createElement("hr",{style:{marginBottom:0}}),r.a.createElement(Ae.a,{className:t.cardActions},s?null:r.a.createElement(me.a,{"aria-label":"remove from cart",onClick:function(){return C(e._id,e.totalPrice)},disabled:!!s},r.a.createElement(Je.a,{style:{color:"red",fontSize:25}}))))))})),E.map((function(e){return r.a.createElement(G.a,{key:e._id,item:!0,xs:12,sm:6,md:3,lg:3},r.a.createElement(_e.a,{className:t.cardStyle},r.a.createElement(ze.a,{className:t.cardHeader,titleTypographyProps:{variant:"h6"},title:"".concat(e.itemType),subheader:"size: 20oz",style:{textTransform:"capitalize"}}),r.a.createElement(Qe.a,{style:{listStyleType:"none",paddingTop:0,height:"35%",overflow:"auto"}},r.a.createElement(W.a,{variant:"body2"},e.selectedBeverages.map((function(e){return r.a.createElement("li",{key:e,style:{textTransform:"capitalize"}},e)})))),r.a.createElement("div",{style:{display:"block",textAlign:"center"}},r.a.createElement(W.a,{className:t.priceText},r.a.createElement("strong",null,"$",Lt(e.totalPrice))," ",r.a.createElement("small",{style:{fontSize:9}},"including tax")),r.a.createElement("hr",{style:{marginBottom:0}}),r.a.createElement(Ae.a,{className:t.cardActions},s?null:r.a.createElement(me.a,{"aria-label":"remove from cart",onClick:function(){return C(e._id)}},r.a.createElement(Je.a,{style:{color:"red",fontSize:25}}))))))})))))))},$t=function(e){var t=e.user;return r.a.createElement("div",null,r.a.createElement("h5",{className:"sticky-head"},"Information"),void 0!==t?r.a.createElement(_e.a,{style:{height:160}},r.a.createElement(Qe.a,null,r.a.createElement(W.a,{variant:"body1",color:"textPrimary"},t.firstName),r.a.createElement(W.a,{variant:"body2",color:"textSecondary"},t.email),r.a.createElement(W.a,{variant:"body2",color:"textSecondary"},"Payment method: Cash on delivery"),r.a.createElement(W.a,{variant:"body2",color:"textSecondary"},"Registered via ",t.googleId?"Google":"local email/password creation"," on ",new Date(t.createdAt).toString().slice(0,25)))):r.a.createElement("h3",null,"Loading..."))},Zt=a(277),Yt=a(278),Jt=function(e){var t=e.user,a=e.titleMessage,c=e.editOnClick,l=e.setEditOnClick,i=Object(o.b)(),s=t.addresses[c.indexToEdit],u=Object(n.useState)(c.open),m=Object(ae.a)(u,2),d=m[0],p=m[1];Object(n.useEffect)((function(){c.isOpen&&p(!0)}),[p,c]);var f=function(){p(!1),l({isOpen:!1,indexToEdit:null})};return r.a.createElement("div",null,d?r.a.createElement(et.a,{open:d,onClose:f,"aria-labelledby":"form-dialog-title"},r.a.createElement(nt.a,{id:"form-dialog-title"},a),r.a.createElement(at.a,null,r.a.createElement(ct.a,{initialValues:Object(E.a)({},s),validate:function(e){var t={};return e.locationName||(t.locationName="Required"),e.addressNumber||(t.addressNumber="Required"),e.street||(t.street="Required"),e.city||(t.city="Required"),e.state||(t.state="Required"),e.country||(t.country="Required"),e.zip||(t.zip="Required"),t},onSubmit:function(){var e=Object(h.a)(g.a.mark((function e(a,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.setSubmitting,n.resetForm,r(!0),i(C(t._id,c.indexToEdit,{locationName:a.locationName,addressNumber:a.addressNumber,street:a.street,city:a.city,state:a.state,country:a.country,zip:a.zip,specialInstructions:a.specialInstructions})),f();case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},(function(e){var t=e.values,a=e.errors,n=e.touched,c=e.handleChange,l=e.handleBlur,o=e.handleSubmit;e.isSubmitting;return r.a.createElement("form",{style:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"},onSubmit:o},r.a.createElement(rt.a,{type:"text",label:"Location Name",name:"locationName",onChange:c,onBlur:l,value:t.locationName,error:!(!a.locationName||!n.locationName),helperText:a.locationName&&n.locationName&&a.locationName,style:{margin:10}}),r.a.createElement(rt.a,{type:"number",label:"Building Number",name:"addressNumber",onChange:c,onBlur:l,value:t.addressNumber,error:!(!a.addressNumber||!n.addressNumber),helperText:a.addressNumber&&n.addressNumber&&a.addressNumber,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"Street",name:"street",onChange:c,onBlur:l,value:t.street,error:!(!a.street||!n.street),helperText:a.street&&n.street&&a.street,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"City/Town",name:"city",onChange:c,onBlur:l,value:t.city,error:!(!a.city||!n.city),helperText:a.city&&n.city&&a.city,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"State/Province",name:"state",onChange:c,onBlur:l,value:t.state,error:!(!a.state||!n.state),helperText:a.state&&n.state&&a.state,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"Country",name:"country",onChange:c,onBlur:l,value:t.country,error:!(!a.country||!n.country),helperText:a.country&&n.country&&a.country,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"Zip Code",name:"zip",onChange:c,onBlur:l,value:t.zip,error:!(!a.zip||!n.zip),helperText:a.zip&&n.zip&&a.zip,style:{margin:10}}),r.a.createElement(rt.a,{type:"text",label:"Special instructions?",name:"specialInstructions",onChange:c,onBlur:l,value:t.specialInstructions,helperText:a.specialInstructions&&n.specialInstructions&&a.specialInstructions,style:{margin:10}}),r.a.createElement("div",{style:{display:"block",width:"100%",marginTop:20}},r.a.createElement(tt.a,null,r.a.createElement(V.a,{onClick:f,color:"primary"},"Cancel"),r.a.createElement(V.a,{type:"submit",color:"primary"},"Submit"))))})))):null)},Kt=function(e){var t=e.user,a=t.addresses,c=Object(n.useState)(!1),l=Object(ae.a)(c,2),o=l[0],i=l[1],s=Object(n.useState)({isOpen:!1,indexToEdit:null}),u=Object(ae.a)(s,2),m=u[0],d=u[1];return r.a.createElement("div",null,r.a.createElement("h5",{className:"sticky-head"},"Addresses"),a?a.map((function(e,t){return r.a.createElement(_e.a,{key:e._id,style:{marginBottom:10}},r.a.createElement(Qe.a,null,r.a.createElement(W.a,{variant:"body1",color:"textPrimary"},e.locationName),r.a.createElement(W.a,{variant:"body2",color:"textSecondary",component:"p"},e.addressNumber," ",e.street),r.a.createElement(W.a,{variant:"body2",color:"textSecondary",component:"p"},e.city,", ",e.state,",  ",e.country),r.a.createElement(W.a,{variant:"body2",color:"textSecondary",component:"p"},e.zip)),r.a.createElement(Ae.a,{style:{display:"block"}},r.a.createElement(me.a,{"aria-label":"edit address",onClick:function(){d({isOpen:!0,indexToEdit:t})},style:{color:"rgb(221, 68, 68)",float:"right",padding:6,marginRight:20,fontSize:16}},r.a.createElement(Zt.a,{style:{marginRight:10,float:"right"}}),"Edit")))})):null,r.a.createElement(me.a,{"aria-label":"add an address",style:{fontSize:16,color:"white"},onClick:function(){return i(!0)}},r.a.createElement(Yt.a,{style:{fontSize:30,marginRight:10}}),"Add"),r.a.createElement(lt,{user:t,titleMessage:"Be sure to use a descriptive name",openOnClick:o,setOpenOnClick:i}),r.a.createElement(Jt,{user:t,titleMessage:"",editOnClick:m,setEditOnClick:d}))},Qt=function(){var e=Object(o.c)((function(e){return e.activeUser.user}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{container:!0,spacing:2},r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:4,lg:4},r.a.createElement($t,{user:e})),r.a.createElement(G.a,{item:!0,xs:12,sm:6,md:8,lg:8},r.a.createElement(Kt,{user:e}))))},Xt=Object($.a)((function(e){return{root:{display:"flex",backgroundColor:"#575551",fontWeight:500},toolbar:{paddingRight:24},toolbarIcon:Object(E.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,backgroundColor:"white",transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,backgroundColor:"white",width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1,textAlign:"center"},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(ne.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(6)},e.breakpoints.up("sm"),{width:e.spacing(7)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(3),paddingBottom:e.spacing(2),paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},paper:{padding:e.spacing(1),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ea(){var e=Xt(),t=Object(o.b)(),a=r.a.useState(!1),n=Object(ae.a)(a,2),c=n[0],l=n[1],i=Object(o.c)((function(e){return e.activeUser.user}));return r.a.createElement("div",{className:e.root},r.a.createElement(H.a,null),r.a.createElement(le.a,{position:"absolute",className:Object(re.a)(e.appBar,c&&e.appBarShift)},r.a.createElement(oe.a,{className:e.toolbar},r.a.createElement(me.a,{edge:"start",color:"default","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(re.a)(e.menuButton,c&&e.menuButtonHidden)},r.a.createElement(fe.a,null)),r.a.createElement("div",{className:e.title},r.a.createElement("img",{src:Ne.a,alt:"logo"})),r.a.createElement(me.a,{color:"inherit",edge:"end",style:{width:150}},i?r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement(ie.a,{style:{float:"left"},src:i.image,alt:"user"}),r.a.createElement(ge.a,{style:{color:"black",float:"right"},onClick:function(){t(function(){var e=Object(h.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.logoutUser();case 3:t({type:"USER_LOGOUT",data:null}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}())}},"Logout"))):null))),r.a.createElement(ce.a,{variant:window.innerWidth>=500?"permanent":"temporary",classes:{paper:Object(re.a)(e.drawerPaper,!c&&e.drawerPaperClose)},open:c},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(me.a,{onClick:function(){l(!1)}},r.a.createElement(Ee.a,null))),r.a.createElement(ue.a,null),r.a.createElement(se.a,null,Te)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(de.a,{maxWidth:"lg",className:e.container},r.a.createElement(U.d,null,r.a.createElement(U.b,{exact:!0,path:"/dashboard",component:it}),r.a.createElement(U.b,{path:"/dashboard/restaurant/:id",component:It}),r.a.createElement(U.b,{path:"/dashboard/orders",component:Mt}),r.a.createElement(U.b,{path:"/dashboard/cart",component:Wt}),r.a.createElement(U.b,{path:"/dashboard/account",component:Qt})))))}var ta=function(){var e=Object(o.c)((function(e){return e.activeUser.user}));return r.a.createElement(M.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(U.d,null,r.a.createElement(U.b,{path:"/dashboard"},e?r.a.createElement("div",null,r.a.createElement(ea,{user:e})):r.a.createElement(U.a,{to:"/"})),r.a.createElement(U.b,{exact:!0,path:"/"},e?r.a.createElement(U.a,{to:"/dashboard"}):r.a.createElement(te,null)))))};a(191);l.a.render(r.a.createElement(o.a,{store:D},r.a.createElement(L.a,{persistor:F},r.a.createElement(ta,null))),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.ae84f400.chunk.js.map